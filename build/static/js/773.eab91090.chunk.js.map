{"version":3,"file":"static/js/773.eab91090.chunk.js","mappings":"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","sources":["components/ReceiptTemplate.jsx","pages/PaymentStatusPage.jsx","config/api.js","components/AnimatedElement.jsx"],"sourcesContent":["import \"../styles/ReceiptTemplate.css\";\n\nconst ReceiptTemplate = ({ orderData, bookingDetails, packageDetails }) => {\n  const date = new Date();\n  const formattedDate = date.toLocaleDateString(\"en-IN\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  });\n\n  // Ensure we have valid data by providing defaults\n  const order = orderData || {\n    order_id: \"Unknown\",\n    order_amount: 0,\n    order_status: \"UNKNOWN\",\n  };\n\n  const booking = bookingDetails || {\n    fullName: \"Customer\",\n    email: \"customer@example.com\",\n    phone: \"N/A\",\n    travelDate: formattedDate,\n    travelers: 1,\n  };\n\n  const packageInfo = packageDetails || {\n    name: \"Travel Package\",\n    location: \"Destination\",\n    duration: \"N/A\",\n    price: order.order_amount || 0,\n  };\n\n  return (\n    <div className=\"rt-receipt\">\n      <div className=\"rt-header\">\n        <div className=\"rt-logo-container\">\n          <div className=\"rt-logo\">TripEasy</div>\n          <div className=\"rt-logo-tagline\">Explore. Experience. Enjoy.</div>\n        </div>\n        <div className=\"rt-company-info\">\n          <p>TripEasy Travel Services </p>\n          <p>Shop No 16, 2nd Floor,</p>\n          <p>VED TransCube opposite the Main Railway Station, Vadodara,</p>\n          <p>GST: 07AABCT1234Z1ZL</p>\n        </div>\n        <div className=\"rt-receipt-title-container\">\n          <h1 className=\"rt-receipt-title\">Booking Receipt</h1>\n          <div className=\"rt-receipt-id\">Receipt #{order.order_id}</div>\n          <div className=\"rt-receipt-date\">Date: {formattedDate}</div>\n        </div>\n      </div>\n\n      <div className=\"rt-details\">\n        <div className=\"rt-section\">\n          <div className=\"rt-section-title\">\n            <i className=\"fas fa-user-circle\"></i> Customer Information\n          </div>\n          <div className=\"rt-detail-row\">\n            <span className=\"rt-detail-label\">Name:</span>\n            <span>{booking.fullName}</span>\n          </div>\n          <div className=\"rt-detail-row\">\n            <span className=\"rt-detail-label\">Email:</span>\n            <span>{booking.email}</span>\n          </div>\n          <div className=\"rt-detail-row\">\n            <span className=\"rt-detail-label\">Phone:</span>\n            <span>{booking.phone}</span>\n          </div>\n        </div>\n\n        <div className=\"rt-section\">\n          <div className=\"rt-section-title\">\n            <i className=\"fas fa-map-marked-alt\"></i> Package Details\n          </div>\n          <div className=\"rt-detail-row\">\n            <span className=\"rt-detail-label\">Package Name:</span>\n            <span>{packageInfo.name}</span>\n          </div>\n          <div className=\"rt-detail-row\">\n            <span className=\"rt-detail-label\">Destination:</span>\n            <span>{packageInfo.location}</span>\n          </div>\n          <div className=\"rt-detail-row\">\n            <span className=\"rt-detail-label\">Duration:</span>\n            <span>{packageInfo.duration} Days</span>\n          </div>\n          <div className=\"rt-detail-row\">\n            <span className=\"rt-detail-label\">Travel Date:</span>\n            <span>{booking.travelDate}</span>\n          </div>\n          <div className=\"rt-detail-row\">\n            <span className=\"rt-detail-label\">Number of Travelers:</span>\n            <span>{booking.travelers}</span>\n          </div>\n        </div>\n\n        {/* Travelers Section */}\n        <div className=\"rt-section\">\n          <div className=\"rt-section-title\">\n            <i className=\"fas fa-users\"></i> Traveler Details\n          </div>\n\n          {/* Lead Traveler */}\n          <div className=\"rt-traveler-item\">\n            <div className=\"rt-traveler-header\">Lead Traveler</div>\n            <div className=\"rt-traveler-details\">\n              <div className=\"rt-traveler-detail\">\n                <span className=\"rt-detail-label\">Name:</span>\n                <span>{booking.fullName}</span>\n              </div>\n              <div className=\"rt-traveler-detail\">\n                <span className=\"rt-detail-label\">Gender:</span>\n                <span>{booking.gender || \"Not specified\"}</span>\n              </div>\n              <div className=\"rt-traveler-detail\">\n                <span className=\"rt-detail-label\">Age:</span>\n                <span>{booking.age || \"Not specified\"}</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Additional Travelers */}\n          {booking.additionalTravelers &&\n            booking.additionalTravelers.length > 0 && (\n              <div className=\"rt-additional-travelers\">\n                {booking.additionalTravelers.map((traveler, index) => (\n                  <div key={index} className=\"rt-traveler-item\">\n                    <div className=\"rt-traveler-header\">\n                      Traveler {index + 2}\n                    </div>\n                    <div className=\"rt-traveler-details\">\n                      <div className=\"rt-traveler-detail\">\n                        <span className=\"rt-detail-label\">Name:</span>\n                        <span>{traveler.fullName}</span>\n                      </div>\n                      <div className=\"rt-traveler-detail\">\n                        <span className=\"rt-detail-label\">Gender:</span>\n                        <span>{traveler.gender || \"Not specified\"}</span>\n                      </div>\n                      <div className=\"rt-traveler-detail\">\n                        <span className=\"rt-detail-label\">Age:</span>\n                        <span>{traveler.age || \"Not specified\"}</span>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n        </div>\n\n        <div className=\"rt-section\">\n          <div className=\"rt-section-title\">\n            <i className=\"fas fa-credit-card\"></i> Payment Information\n          </div>\n          <div className=\"rt-detail-row\">\n            <span className=\"rt-detail-label\">Order ID:</span>\n            <span>{order.order_id}</span>\n          </div>\n          <div className=\"rt-detail-row\">\n            <span className=\"rt-detail-label\">Payment Status:</span>\n            <span className=\"rt-payment-success\">\n              {order.order_status || \"PAID\"}\n            </span>\n          </div>\n          <div className=\"rt-detail-row\">\n            <span className=\"rt-detail-label\">Price per Person:</span>\n            <span>Rs {(packageInfo.price || 0).toLocaleString(\"en-IN\")}</span>\n          </div>\n          <div className=\"rt-detail-row rt-total-row\">\n            <span className=\"rt-detail-label\">Total Amount:</span>\n            <span>Rs {(order.order_amount || 0).toLocaleString(\"en-IN\")}</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Barcode section removed */}\n\n      <div className=\"rt-ticket-note\">\n        <i className=\"fas fa-ticket-alt\"></i>\n        <p>\n          Your original booking package tickets will be provided within a few\n          hours.\n        </p>\n      </div>\n\n      <div className=\"rt-footer\">\n        <div className=\"rt-terms\">\n          <h4>Terms & Conditions</h4>\n          <ul>\n            <li>This receipt is proof of payment only.</li>\n            <li>\n              Cancellation policy: 48 hours notice required for full refund.\n            </li>\n            <li>\n              Please carry a valid ID proof for all travelers during the trip.\n            </li>\n            <li>\n              Package inclusions are as per the itinerary shared at the time of\n              booking.\n            </li>\n          </ul>\n        </div>\n        <div className=\"rt-contact\">\n          <p>Thank you for booking with TripEasy!</p>\n          <p>\n            For any queries, please contact us at{\" \"}\n            <strong>booking.tripeasy@gmail.com</strong> or call{\" \"}\n            <strong>+91 9157450389</strong>\n          </p>\n          <p>Â© {new Date().getFullYear()} TripEasy. All rights reserved.</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ReceiptTemplate;\n","\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { useSearchParams, useNavigate, Link } from \"react-router-dom\"\nimport \"../styles/PaymentStatusPage.css\"\nimport AnimatedElement from \"../components/AnimatedElement\"\nimport Toast from \"../components/Toast\"\nimport ReceiptTemplate from \"../components/ReceiptTemplate\"\nimport { apiEndpoints } from \"../config/api\"\n\nfunction PaymentStatus() {\n  const [searchParams] = useSearchParams()\n  const navigate = useNavigate()\n  const orderId = searchParams.get(\"order_id\")\n\n  // Payment status state\n  const [paymentStatus, setPaymentStatus] = useState({\n    loading: true,\n    success: false,\n    error: false,\n    message: \"\",\n    orderDetails: null,\n  })\n\n  // Booking details state\n  const [bookingDetails, setBookingDetails] = useState(null)\n  const [packageDetails, setPackageDetails] = useState(null)\n\n  // Receipt state\n  const [showReceipt, setShowReceipt] = useState(false)\n  const [receiptSent, setReceiptSent] = useState(false)\n  const [isDownloading, setIsDownloading] = useState(false)\n  const [isSendingEmail, setIsSendingEmail] = useState(false)\n  const [emailSendProgress, setEmailSendProgress] = useState(0) // Add progress state for loader\n  const [serverStatus, setServerStatus] = useState(true) // Track server connection status\n  const [isEmailSendingComplete, setIsEmailSendingComplete] = useState(false)\n  const [loadingMessage, setLoadingMessage] = useState(\"Preparing your receipt...\") // Dynamic loading message\n\n  // Toast notification\n  const [showToast, setShowToast] = useState(false)\n  const [toastMessage, setToastMessage] = useState(\"\")\n  const [toastType, setToastType] = useState(\"info\")\n\n  // Add this at the top of the component with other state variables\n  const [bookingSaved, setBookingSaved] = useState(false)\n\n  // Add this new state variable to prevent duplicate payment verification\n  const [paymentVerified, setPaymentVerified] = useState(false)\n\n  // Use a ref to track if the effect has run\n  const effectRan = useRef(false)\n\n  // Check if server is running\n  const checkServerStatus = async () => {\n    try {\n      const response = await fetch(`${apiEndpoints.createBookingRequest.replace(\"/api/booking-requests\", \"/api/ha\")}`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n\n      if (response.ok) {\n        setServerStatus(true)\n        return true\n      } else {\n        setServerStatus(false)\n        return false\n      }\n    } catch (error) {\n      console.error(\"[v0] Server connection error:\", error)\n      setServerStatus(false)\n      return false\n    }\n  }\n\n  // Function to format date and time separately\n  const formatDateOnly = (dateString) => {\n    const date = new Date(dateString)\n    return date.toLocaleDateString(\"en-IN\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    })\n  }\n\n  const formatTimeOnly = (dateString) => {\n    const date = new Date(dateString)\n    return date.toLocaleTimeString(\"en-IN\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      hour12: true,\n    })\n  }\n\n  useEffect(() => {\n    // Scroll to top when component mounts\n    window.scrollTo({ top: 0, behavior: \"smooth\" })\n\n    // In development, React.StrictMode causes effects to run twice\n    // This check ensures we only run our main logic once\n    if (effectRan.current === true && process.env.NODE_ENV !== \"production\") {\n      return\n    }\n\n    effectRan.current = true\n\n    // Check server status first\n    checkServerStatus().then((isServerRunning) => {\n      if (!isServerRunning) {\n        setToastMessage(\"Server connection error. Please make sure the server is running.\")\n        setToastType(\"error\")\n        setShowToast(true)\n      }\n\n      // Verify payment if order ID exists and hasn't been verified yet\n      if (orderId && !paymentVerified) {\n        verifyPayment()\n\n        // Try to retrieve booking details from sessionStorage\n        try {\n          // Get the package ID from sessionStorage if available\n          const storedPackageId = sessionStorage.getItem(\"currentPackageId\")\n\n          if (storedPackageId) {\n            const storedBookingDetails = JSON.parse(sessionStorage.getItem(`bookingDetails_${storedPackageId}`))\n            const storedPackageDetails = JSON.parse(sessionStorage.getItem(`packageDetails_${storedPackageId}`))\n\n            if (storedBookingDetails) setBookingDetails(storedBookingDetails)\n            if (storedPackageDetails) setPackageDetails(storedPackageDetails)\n          } else {\n            // Try to get booking details from URL state if available\n            const urlParams = new URLSearchParams(window.location.search)\n            const bookingDataParam = urlParams.get(\"bookingData\")\n            const packageDataParam = urlParams.get(\"packageData\")\n\n            if (bookingDataParam && packageDataParam) {\n              try {\n                setBookingDetails(JSON.parse(decodeURIComponent(bookingDataParam)))\n                setPackageDetails(JSON.parse(decodeURIComponent(packageDataParam)))\n              } catch (err) {\n                console.error(\"Error parsing URL parameters\", err)\n              }\n            }\n          }\n        } catch (err) {\n          console.error(\"Error retrieving booking details from sessionStorage\", err)\n        }\n      } else if (!orderId) {\n        setPaymentStatus({\n          loading: false,\n          success: false,\n          error: true,\n          message: \"No order ID found\",\n          orderDetails: null,\n        })\n      }\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [orderId]) // We're intentionally excluding paymentVerified and verifyPayment from dependencies\n\n  // FIXED: Modified the saveBookingToDatabase function to use correct data structure\n  const saveBookingToDatabase = async (orderData, bookingDetailsToSave, packageDetailsToSave) => {\n    try {\n      // Check if booking has already been saved in this session\n      if (bookingSaved) {\n        console.log(\"[v0] Booking already saved in this session, skipping duplicate save\")\n        return { success: true, alreadyExists: true }\n      }\n\n      // Check server status first\n      const isServerRunning = await checkServerStatus()\n      if (!isServerRunning) {\n        throw new Error(\"Server connection error. Please make sure the server is running.\")\n      }\n\n      // Use provided details or fall back to state\n      const finalOrderData = orderData || (paymentStatus.orderDetails ? paymentStatus.orderDetails : null)\n      const finalBookingDetails = bookingDetailsToSave || bookingDetails\n      const finalPackageDetails = packageDetailsToSave || packageDetails\n\n      if (!finalOrderData) {\n        console.error(\"Cannot save booking: missing order details\")\n        return null\n      }\n\n      if (!finalBookingDetails || !finalPackageDetails) {\n        console.error(\"Cannot save booking: missing booking or package details\")\n        return null\n      }\n\n      // Set the flag to indicate booking save attempt is in progress - BEFORE the API call\n      // This prevents multiple simultaneous calls\n      setBookingSaved(true)\n\n      console.log(\"[v0] Saving booking to database:\", {\n        orderId: finalOrderData.order_id,\n        customerName: finalBookingDetails.fullName,\n        packageName: finalPackageDetails.name,\n      })\n\n      // Add a unique request ID to help track duplicate requests\n      const requestId = Date.now().toString()\n\n      // FIXED: Use the correct endpoint and data structure\n      const response = await fetch(\n        `${apiEndpoints.createBookingRequest.replace(\"/api/booking-requests\", \"/api/save-booking\")}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"X-Request-ID\": requestId,\n          },\n          body: JSON.stringify({\n            orderData: {\n              order_id: finalOrderData.order_id,\n              order_amount: finalOrderData.order_amount,\n              order_status: finalOrderData.order_status || \"PAID\",\n              payment_time: finalOrderData.payment_time || new Date().toISOString(),\n              booking_date: finalOrderData.booking_date || new Date().toISOString(),\n            },\n            bookingDetails: {\n              fullName: finalBookingDetails.fullName,\n              email: finalBookingDetails.email,\n              phone: finalBookingDetails.phone,\n              gender: finalBookingDetails.gender || \"Not specified\",\n              age: finalBookingDetails.age || \"Not specified\",\n              travelDate: finalBookingDetails.travelDate,\n              travelers: finalBookingDetails.travelers,\n              additionalTravelers: finalBookingDetails.additionalTravelers || [],\n              specialRequests: finalBookingDetails.specialRequests || \"\",\n            },\n            packageDetails: {\n              id: finalPackageDetails.id || finalPackageDetails._id,\n              name: finalPackageDetails.name,\n              location: finalPackageDetails.location,\n              duration: finalPackageDetails.duration,\n              price: finalPackageDetails.price,\n            },\n          }),\n        },\n      )\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        // If the save failed, reset the bookingSaved flag to allow retries\n        if (response.status !== 409) {\n          // 409 = Conflict, which means it was already saved\n          setBookingSaved(false)\n        }\n        throw new Error(data.message || \"Failed to save booking\")\n      }\n\n      console.log(\"[v0] Booking saved successfully:\", data)\n      return data\n    } catch (error) {\n      console.error(\"[v0] Error saving booking:\", error)\n      setToastMessage(error.message || \"Failed to save booking. Please try again later.\")\n      setToastType(\"error\")\n      setShowToast(true)\n      return null\n    }\n  }\n\n  // Update the verifyPayment function to ensure it only runs once\n  const verifyPayment = async () => {\n    // Check if payment has already been verified in this session\n    if (paymentVerified) {\n      console.log(\"[v0] Payment already verified in this session, skipping duplicate verification\")\n      return\n    }\n\n    // Set flag BEFORE making the request to prevent race conditions\n    setPaymentVerified(true)\n\n    let data\n    try {\n      // Check server status first\n      const isServerRunning = await checkServerStatus()\n      if (!isServerRunning) {\n        throw new Error(\"Server connection error. Please make sure the server is running.\")\n      }\n\n      const response = await fetch(\n        `${apiEndpoints.createBookingRequest.replace(\"/api/booking-requests\", \"/api/verify-payment\")}/${orderId}`,\n        {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        },\n      )\n\n      data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.message || \"Failed to verify payment\")\n      }\n\n      // Get current date and time for payment time if not available\n      const currentDate = new Date()\n\n      // Update payment status based on response with formatted date\n      const updatedOrderDetails = {\n        ...data.data,\n        // Use the payment_time from API if available, otherwise use current date\n        payment_time: data.data && data.data.payment_time ? data.data.payment_time : currentDate.toISOString(),\n        // Add booking date (using current date as fallback)\n        booking_date: data.data && data.data.booking_date ? data.data.booking_date : currentDate.toISOString(),\n      }\n\n      setPaymentStatus({\n        loading: false,\n        success: data.status === \"PAID\",\n        error: data.status !== \"PAID\",\n        message: data.message,\n        orderDetails: updatedOrderDetails,\n      })\n\n      // If payment is successful, try to retrieve booking details one more time if not already set\n      if (data.status === \"PAID\") {\n        let localBookingDetails = bookingDetails\n        let localPackageDetails = packageDetails\n\n        if (!bookingDetails || !packageDetails) {\n          const storedPackageId = sessionStorage.getItem(\"currentPackageId\")\n          console.log(\"Trying to retrieve booking details from sessionStorage with packageId:\", storedPackageId)\n\n          if (storedPackageId) {\n            try {\n              const storedBookingDetails = JSON.parse(sessionStorage.getItem(`bookingDetails_${storedPackageId}`))\n              const storedPackageDetails = JSON.parse(sessionStorage.getItem(`packageDetails_${storedPackageId}`))\n\n              console.log(\"Retrieved from sessionStorage:\", {\n                hasBookingDetails: !!storedBookingDetails,\n                hasPackageDetails: !!storedPackageDetails,\n              })\n\n              if (storedBookingDetails) {\n                localBookingDetails = storedBookingDetails\n                setBookingDetails(storedBookingDetails)\n              }\n              if (storedPackageDetails) {\n                localPackageDetails = storedPackageDetails\n                setPackageDetails(storedPackageDetails)\n              }\n            } catch (err) {\n              console.error(\"Error retrieving booking details from sessionStorage\", err)\n            }\n          } else {\n            // Try to get booking details from URL state if available\n            const urlParams = new URLSearchParams(window.location.search)\n            const bookingDataParam = urlParams.get(\"bookingData\")\n            const packageDataParam = urlParams.get(\"packageData\")\n\n            console.log(\"Trying to retrieve booking details from URL params:\", {\n              hasBookingParam: !!bookingDataParam,\n              hasPackageParam: !!packageDataParam,\n            })\n\n            if (bookingDataParam && packageDataParam) {\n              try {\n                const parsedBookingDetails = JSON.parse(decodeURIComponent(bookingDataParam))\n                const parsedPackageDetails = JSON.parse(decodeURIComponent(packageDataParam))\n\n                localBookingDetails = parsedBookingDetails\n                localPackageDetails = parsedPackageDetails\n\n                setBookingDetails(parsedBookingDetails)\n                setPackageDetails(parsedPackageDetails)\n              } catch (err) {\n                console.error(\"Error parsing URL parameters\", err)\n              }\n            }\n          }\n        }\n\n        // After retrieving booking details, process only if we have all required data\n        if (localBookingDetails && localPackageDetails && updatedOrderDetails) {\n          // Use a single timeout to prevent multiple calls\n          setTimeout(async () => {\n            console.log(\"Processing successful payment with:\", {\n              hasBookingDetails: !!localBookingDetails,\n              hasPackageDetails: !!localPackageDetails,\n              hasOrderDetails: !!updatedOrderDetails,\n            })\n\n            try {\n              // Save booking to database first with the updated order details\n              // Use await to ensure we wait for the result before proceeding\n              const saveResult = await saveBookingToDatabase(\n                updatedOrderDetails,\n                localBookingDetails,\n                localPackageDetails,\n              )\n\n              // Only proceed with email sending if booking was saved or already exists\n              if (saveResult && saveResult.success) {\n                // Show loader for email sending\n                setIsSendingEmail(true)\n                setEmailSendProgress(0) // Start progress at 0%\n                setIsEmailSendingComplete(false) // Reset email sending state\n                setLoadingMessage(\"Preparing your receipt...\") // Initial message\n\n                // Create an array of loading messages to cycle through\n                const loadingMessages = [\n                  \"Preparing your receipt...\",\n                  \"Generating PDF document...\",\n                  \"Adding booking details...\",\n                  \"Formatting your receipt...\",\n                  \"Sending to your email...\",\n                  \"Almost done...\",\n                ]\n\n                // Start progress animation with message changes\n                let messageIndex = 0\n                const progressInterval = setInterval(() => {\n                  setEmailSendProgress((prev) => {\n                    // Increase progress gradually up to 85% (reserve the rest for completion)\n                    if (prev < 85) {\n                      // Change message every ~20% progress\n                      if (prev % 20 === 0 && messageIndex < loadingMessages.length - 1) {\n                        messageIndex++\n                        setLoadingMessage(loadingMessages[messageIndex])\n                      }\n                      return prev + 2\n                    }\n                    return prev\n                  })\n                }, 120) // Update more frequently for smoother animation\n\n                try {\n                  // Send the email\n                  await sendReceiptEmail(updatedOrderDetails, localBookingDetails, localPackageDetails)\n\n                  // Clear the interval when done\n                  clearInterval(progressInterval)\n\n                  // Set final message\n                  setLoadingMessage(\"Receipt sent successfully!\")\n\n                  // Complete the progress\n                  setEmailSendProgress(100)\n\n                  // Set email sending complete after a delay to ensure the progress bar completes visually\n                  setTimeout(() => {\n                    setIsEmailSendingComplete(true)\n\n                    // Show toast only after email is sent\n                    setToastMessage(\"Receipt has been sent to your email\")\n                    setToastType(\"success\")\n                    setShowToast(true)\n                  }, 500)\n                } catch (emailError) {\n                  clearInterval(progressInterval)\n                  console.error(\"Error sending receipt email:\", emailError)\n                  setIsEmailSendingComplete(true)\n                  setToastMessage(\"Could not send receipt email. Please try again later.\")\n                  setToastType(\"error\")\n                  setShowToast(true)\n                }\n              } else {\n                console.error(\"Cannot proceed with email: booking save failed\")\n                setToastMessage(\"Could not save booking details. Please try again later.\")\n                setToastType(\"error\")\n                setShowToast(true)\n              }\n            } catch (error) {\n              console.error(\"Error in payment processing:\", error)\n              setToastMessage(\"Error processing payment. Please try again later.\")\n              setToastType(\"error\")\n              setShowToast(true)\n            }\n          }, 1000) // Reduced timeout to 1 second for faster response\n        } else if (data.status === \"PAID\") {\n          console.error(\"Cannot process payment: missing required details\")\n          setToastMessage(\"Could not process payment: missing required details\")\n          setToastType(\"error\")\n          setShowToast(true)\n        }\n      }\n\n      // Only show toast for errors, not for successful verification\n      if (data.status !== \"PAID\") {\n        setToastMessage(data.message)\n        setToastType(\"error\")\n        setShowToast(true)\n      }\n    } catch (error) {\n      // If verification fails, reset the flag to allow retries\n      setPaymentVerified(false)\n\n      console.error(\"Error verifying payment:\", error)\n\n      // Get current date and time as fallback\n      const currentDate = new Date()\n      const currentDateISOString = currentDate.toISOString()\n\n      setPaymentStatus({\n        loading: false,\n        success: false,\n        error: true,\n        message: \"Failed to verify payment. Please try again later.\",\n        orderDetails: {\n          order_id: orderId || \"Unknown\",\n          order_amount: 0,\n          order_status: \"FAILED\",\n          payment_time: currentDateISOString,\n          booking_date: currentDateISOString,\n        },\n      })\n\n      setToastMessage(error.message || \"Failed to verify payment. Please try again later.\")\n      setToastType(\"error\")\n      setShowToast(true)\n    }\n  }\n\n  // Function to send receipt email\n  const sendReceiptEmail = async (orderData, bookingDetailsToUse = null, packageDetailsToUse = null) => {\n    try {\n      // Record the start time to ensure minimum 5 seconds display\n      const startTime = Date.now()\n\n      // Check server status first\n      const isServerRunning = await checkServerStatus()\n      if (!isServerRunning) {\n        throw new Error(\"Server connection error. Please make sure the server is running.\")\n      }\n\n      // Use provided details or fall back to state\n      const finalBookingDetails = bookingDetailsToUse || bookingDetails\n      const finalPackageDetails = packageDetailsToUse || packageDetails\n\n      if (!finalBookingDetails || !finalPackageDetails) {\n        console.error(\"Missing booking or package details for receipt email\")\n        return\n      }\n\n      console.log(\"[v0] Sending receipt email with details:\", {\n        hasOrderData: !!orderData,\n        hasBookingDetails: !!finalBookingDetails,\n        hasPackageDetails: !!finalPackageDetails,\n      })\n\n      setIsSendingEmail(true)\n      setEmailSendProgress(50) // Update progress to 50%\n\n      const response = await fetch(\n        `${apiEndpoints.createBookingRequest.replace(\"/api/booking-requests\", \"/api/send-receipt\")}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            orderData,\n            bookingDetails: finalBookingDetails,\n            packageDetails: finalPackageDetails,\n          }),\n        },\n      )\n\n      const data = await response.json()\n\n      // Calculate how much time has passed\n      const elapsedTime = Date.now() - startTime\n      const remainingTime = Math.max(0, 5000 - elapsedTime)\n\n      // If less than 5 seconds have passed, wait for the remaining time\n      if (remainingTime > 0) {\n        // Update progress to 85% while waiting\n        setEmailSendProgress(85)\n        setLoadingMessage(\"Finalizing your receipt...\")\n        await new Promise((resolve) => setTimeout(resolve, remainingTime))\n      }\n\n      if (data.success) {\n        setReceiptSent(true)\n        setIsSendingEmail(false)\n        setEmailSendProgress(100) // Complete progress\n        setLoadingMessage(\"Receipt sent successfully!\")\n\n        // We'll show the toast notification in the calling function\n        // to ensure we only show it once after the email is sent\n      } else {\n        console.error(\"[v0] Failed to send receipt email:\", data.message)\n        setIsSendingEmail(false)\n        setEmailSendProgress(0) // Reset progress\n\n        // Show error toast\n        setShowToast(false)\n        setTimeout(() => {\n          setToastMessage(\"Failed to send receipt email. Please try again.\")\n          setToastType(\"error\")\n          setShowToast(true)\n        }, 300)\n      }\n\n      return data\n    } catch (error) {\n      console.error(\"[v0] Error sending receipt email:\", error)\n      setIsSendingEmail(false)\n      setEmailSendProgress(0) // Reset progress\n\n      // Show error toast\n      setShowToast(false)\n      setTimeout(() => {\n        setToastMessage(error.message || \"Error sending receipt email. Please try again.\")\n        setToastType(\"error\")\n        setShowToast(true)\n      }, 300)\n\n      throw error\n    }\n  }\n\n  // Function to download receipt\n  const downloadReceipt = async () => {\n    try {\n      // Check server status first\n      const isServerRunning = await checkServerStatus()\n      if (!isServerRunning) {\n        throw new Error(\"Server connection error. Please make sure the server is running.\")\n      }\n\n      if (!paymentStatus.orderDetails) {\n        setToastMessage(\"Cannot generate receipt: missing order details\")\n        setToastType(\"error\")\n        setShowToast(true)\n        return\n      }\n\n      if (!bookingDetails || !packageDetails) {\n        // Try to retrieve booking details one more time\n        const storedPackageId = sessionStorage.getItem(\"currentPackageId\")\n        let retrievedBookingDetails = bookingDetails\n        let retrievedPackageDetails = packageDetails\n\n        if (storedPackageId) {\n          try {\n            const storedBookingDetails = JSON.parse(sessionStorage.getItem(`bookingDetails_${storedPackageId}`))\n            const storedPackageDetails = JSON.parse(sessionStorage.getItem(`packageDetails_${storedPackageId}`))\n\n            if (storedBookingDetails) retrievedBookingDetails = storedBookingDetails\n            if (storedPackageDetails) retrievedPackageDetails = storedPackageDetails\n          } catch (err) {\n            console.error(\"[v0] Error retrieving booking details\", err)\n          }\n        }\n\n        if (!retrievedBookingDetails || !retrievedPackageDetails) {\n          setToastMessage(\"Cannot generate receipt: missing booking details\")\n          setToastType(\"error\")\n          setShowToast(true)\n          return\n        }\n\n        // Update state with retrieved details\n        if (!bookingDetails) setBookingDetails(retrievedBookingDetails)\n        if (!packageDetails) setPackageDetails(retrievedPackageDetails)\n      }\n\n      // Show loading state\n      setIsDownloading(true)\n      setToastMessage(\"Generating receipt PDF...\")\n      setToastType(\"info\")\n      setShowToast(true)\n\n      // Direct approach - fetch the PDF as a blob\n      const response = await fetch(\n        `${apiEndpoints.createBookingRequest.replace(\"/api/booking-requests\", \"/api/generate-receipt\")}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            orderData: paymentStatus.orderDetails,\n            bookingDetails: bookingDetails,\n            packageDetails: packageDetails,\n          }),\n          // Add timeout to prevent hanging requests\n          signal: AbortSignal.timeout(30000), // 30 second timeout\n        },\n      )\n\n      if (!response.ok) {\n        throw new Error(`Failed to generate receipt: ${response.statusText}`)\n      }\n\n      // Get the blob from the response\n      const blob = await response.blob()\n\n      // Create a URL for the blob\n      const url = window.URL.createObjectURL(blob)\n\n      // Create a temporary link element\n      const link = document.createElement(\"a\")\n      link.href = url\n      link.download = `TripEasy_Receipt_${paymentStatus.orderDetails.order_id}.pdf`\n\n      // Append to the document, click it, and remove it\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n\n      // Clean up the URL\n      window.URL.revokeObjectURL(url)\n\n      // Reset downloading state\n      setIsDownloading(false)\n\n      // Show success toast\n      setShowToast(false)\n      setTimeout(() => {\n        setToastMessage(\"Receipt downloaded successfully\")\n        setToastType(\"success\")\n        setShowToast(true)\n      }, 300)\n    } catch (error) {\n      console.error(\"[v0] Error downloading receipt:\", error)\n      setIsDownloading(false)\n\n      setShowToast(false)\n      setTimeout(() => {\n        setToastMessage(error.message || \"Failed to download receipt. Please try again.\")\n        setToastType(\"error\")\n        setShowToast(true)\n      }, 300)\n    }\n  }\n\n  // Function to toggle receipt view\n  const toggleReceiptView = () => {\n    setShowReceipt(!showReceipt)\n  }\n\n  if (paymentStatus.loading) {\n    return (\n      <div className=\"ps-payment-status-container\">\n        <div className=\"ps-loading-container\">\n          <div className=\"ps-loading-spinner\"></div>\n          <p>Verifying payment status...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // Show email sending loader if payment is successful and email is being sent\n  if (paymentStatus.success && isSendingEmail && !isEmailSendingComplete) {\n    return (\n      <div className=\"ps-payment-status-container\" style={{ backgroundColor: \"white\" }}>\n        <div className=\"ps-email-sending-fullscreen\">\n          <div className=\"ps-email-animation-container\">\n            <div className=\"ps-email-icon\">\n              <div className=\"ps-envelope\">\n                <div className=\"ps-envelope-top\"></div>\n                <div className=\"ps-envelope-body\"></div>\n                <div className=\"ps-envelope-paper\"></div>\n              </div>\n              <div className=\"ps-email-waves\">\n                <div className=\"ps-wave ps-wave1\"></div>\n                <div className=\"ps-wave ps-wave2\"></div>\n                <div className=\"ps-wave ps-wave3\"></div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"ps-email-progress-container\">\n            <div className=\"ps-email-progress-bar\" style={{ width: `${emailSendProgress}%` }}></div>\n            <div className=\"ps-email-progress-percentage\">{emailSendProgress}%</div>\n          </div>\n\n          <div className=\"ps-email-message\">\n            <p>{loadingMessage}</p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"ps-payment-status-container\">\n      <div className=\"container\">\n        <AnimatedElement animation=\"fade-up\">\n          <div className={`ps-status-card ${paymentStatus.success ? \"ps-success\" : \"ps-error\"}`}>\n            <div className=\"ps-status-icon\">\n              {paymentStatus.success ? (\n                <i className=\"fas fa-check-circle ps-animated-success\"></i>\n              ) : (\n                <i className=\"fas fa-times-circle\"></i>\n              )}\n            </div>\n\n            <h2 className=\"ps-status-title\">{paymentStatus.success ? \"Payment Successful!\" : \"Payment Failed\"}</h2>\n\n            <p className=\"ps-status-message\">{paymentStatus.message}</p>\n\n            {!serverStatus && (\n              <div className=\"ps-server-error\">\n                <i className=\"fas fa-exclamation-triangle\"></i>\n                <p>Server connection error. Please make sure the server is running.</p>\n              </div>\n            )}\n\n            {paymentStatus.success && (\n              <div className=\"ps-ticket-info\">\n                <i className=\"fas fa-ticket-alt\"></i>\n                <p>Your original booking package tickets will be provided within a few hours.</p>\n              </div>\n            )}\n\n            {paymentStatus.orderDetails && (\n              <div className=\"ps-order-details\">\n                <h3>\n                  <i className=\"fas fa-receipt ps-details-icon\"></i> Order Details\n                </h3>\n                <div className=\"ps-details-grid\">\n                  <div className=\"ps-detail-item\">\n                    <span className=\"ps-detail-label\">\n                      <i className=\"fas fa-hashtag\"></i> Order ID:\n                    </span>\n                    <span className=\"ps-detail-value\">{paymentStatus.orderDetails.order_id}</span>\n                  </div>\n                  <div className=\"ps-detail-item\">\n                    <span className=\"ps-detail-label\">\n                      <i className=\"fas fa-rupee-sign\"></i> Amount:\n                    </span>\n                    <span className=\"ps-detail-value\">\n                      â¹{paymentStatus.orderDetails.order_amount.toLocaleString(\"en-IN\")}\n                    </span>\n                  </div>\n                  <div className=\"ps-detail-item\">\n                    <span className=\"ps-detail-label\">\n                      <i className=\"fas fa-info-circle\"></i> Status:\n                    </span>\n                    <span className=\"ps-detail-value ps-status-badge\">{paymentStatus.orderDetails.order_status}</span>\n                  </div>\n                  <div className=\"ps-detail-item\">\n                    <span className=\"ps-detail-label\">\n                      <i className=\"fas fa-calendar-check\"></i> Booking Date:\n                    </span>\n                    <span className=\"ps-detail-value\">{formatDateOnly(paymentStatus.orderDetails.booking_date)}</span>\n                  </div>\n                  <div className=\"ps-detail-item\">\n                    <span className=\"ps-detail-label\">\n                      <i className=\"fas fa-clock\"></i> Payment Time:\n                    </span>\n                    <span className=\"ps-detail-value\">{formatTimeOnly(paymentStatus.orderDetails.payment_time)}</span>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {paymentStatus.success && receiptSent && (\n              <div className=\"ps-receipt-info\">\n                <p>\n                  <i className=\"fas fa-envelope-open-text\"></i> A receipt has been sent to your email address.\n                </p>\n              </div>\n            )}\n\n            <div className=\"ps-action-buttons\">\n              <Link to=\"/\" className=\"ps-home-button\">\n                <i className=\"fas fa-home\"></i> Return to Home\n              </Link>\n              {paymentStatus.success && (\n                <>\n                  <button\n                    className=\"ps-download-button\"\n                    onClick={downloadReceipt}\n                    disabled={isDownloading || !serverStatus}\n                  >\n                    <i className=\"fas fa-download\"></i>\n                    {isDownloading ? \"Downloading...\" : \"Download Receipt\"}\n                  </button>\n                  <button\n                    className=\"ps-view-button\"\n                    onClick={toggleReceiptView}\n                    style={{\n                      padding: \"12px 24px\",\n                      borderRadius: \"50px\",\n                      fontSize: \"16px\",\n                      fontWeight: \"600\",\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      justifyContent: \"center\",\n                      transition: \"all 0.3s ease\",\n                      cursor: \"pointer\",\n                      backgroundColor: \"rgb(108,117,125)\",\n                      color: \"white\",\n                      border: \"none\",\n                    }}\n                  >\n                    <i className=\"fas fa-eye\" style={{ marginRight: \"8px\" }}></i> View Receipt\n                  </button>\n                </>\n              )}\n              {!paymentStatus.success && (\n                <button className=\"ps-retry-button\" onClick={() => navigate(-1)}>\n                  <i className=\"fas fa-redo\"></i> Try Again\n                </button>\n              )}\n            </div>\n          </div>\n        </AnimatedElement>\n\n        {/* Receipt Modal */}\n        {showReceipt && paymentStatus.orderDetails && bookingDetails && packageDetails && (\n          <div className=\"ps-receipt-modal\">\n            <div className=\"ps-receipt-modal-content\">\n              <div className=\"ps-receipt-modal-header\">\n                <h3>Booking Receipt</h3>\n                <button className=\"ps-modal-close\" onClick={toggleReceiptView}>\n                  <i className=\"fas fa-times\"></i>\n                </button>\n              </div>\n              <div className=\"ps-receipt-modal-body\">\n                <ReceiptTemplate\n                  orderData={paymentStatus.orderDetails}\n                  bookingDetails={bookingDetails}\n                  packageDetails={packageDetails}\n                />\n              </div>\n              <div className=\"ps-receipt-modal-footer\">\n                <button\n                  className=\"ps-download-button\"\n                  onClick={downloadReceipt}\n                  disabled={isDownloading || !serverStatus}\n                >\n                  <i className=\"fas fa-download\"></i>\n                  {isDownloading ? \"Downloading...\" : \"Download PDF\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Toast notification */}\n      {showToast && <Toast message={toastMessage} type={toastType} onClose={() => setShowToast(false)} />}\n    </div>\n  )\n}\n\nexport default PaymentStatus","// This file hardcodes the localhost API URL and is imported by all components\n// This bypasses Vite environment variable loading issues\n\nconst API_BASE_URL = \"http://localhost:5000\"\n\nexport const getApiUrl = () => API_BASE_URL\n\nexport const apiEndpoints = {\n  // Public endpoints\n  getAllPackages: `${API_BASE_URL}/api/packages`,\n  getPackageById: (id) => `${API_BASE_URL}/api/packages/${id}`,\n  createBooking: `${API_BASE_URL}/api/bookings`,\n  createBookingRequest: `${API_BASE_URL}/api/booking-requests`,\n  createCustomPackageRequest: `${API_BASE_URL}/api/submit-custom-package`,\n  getDestinations: `${API_BASE_URL}/api/destinations`,\n  \n  // Payment endpoints\n  createOrder: `${API_BASE_URL}/api/create-order`,\n  verifyPayment: (orderId) => `${API_BASE_URL}/api/verify-payment/${orderId}`,\n  \n  // Receipt and booking management endpoints\n  saveBooking: `${API_BASE_URL}/api/save-booking`,\n  sendReceipt: `${API_BASE_URL}/api/send-receipt`,\n  generateReceipt: `${API_BASE_URL}/api/generate-receipt`,\n  healthCheck: `${API_BASE_URL}/api/ha`,\n  \n  // Admin endpoints\n  getAllBookings: `${API_BASE_URL}/api/admin/bookings`,\n  getBookingById: (id) => `${API_BASE_URL}/api/bookings/${id}`,\n  adminPackages: `${API_BASE_URL}/api/admin/packages`,\n  adminPackageById: (id) => `${API_BASE_URL}/api/admin/packages/${id}`,\n}\n\nexport default API_BASE_URL\n","\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport \"../styles/AnimatedElement.css\";\n\n// This component wraps content and animates it when it enters the viewport\nfunction AnimatedElement({\n  children,\n  animation = \"fade-up\", // fade-up, fade-left, fade-right, zoom-in\n  delay = 0,\n  duration = 800,\n  threshold = 0.2, // How much of the element needs to be visible to trigger animation\n  className = \"\",\n  once = true, // Whether to animate only once or every time the element enters viewport\n}) {\n  const [isVisible, setIsVisible] = useState(false);\n  const [hasAnimated, setHasAnimated] = useState(false);\n  const elementRef = useRef(null);\n\n  useEffect(() => {\n    const currentElement = elementRef.current;\n    if (!currentElement) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        const [entry] = entries;\n        if (entry.isIntersecting) {\n          if (once && hasAnimated) return;\n          setIsVisible(true);\n          setHasAnimated(true);\n        } else if (!once) {\n          setIsVisible(false);\n        }\n      },\n      {\n        threshold,\n        rootMargin: \"0px\",\n      }\n    );\n\n    observer.observe(currentElement);\n\n    return () => {\n      if (currentElement) {\n        observer.unobserve(currentElement);\n      }\n    };\n  }, [threshold, once, hasAnimated]);\n\n  const animationStyle = {\n    animationDelay: `${delay}ms`,\n    animationDuration: `${duration}ms`,\n  };\n\n  return (\n    <div\n      ref={elementRef}\n      className={`animated-element ${animation} ${\n        isVisible ? \"animate\" : \"\"\n      } ${className}`}\n      style={animationStyle}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default AnimatedElement;\n"],"names":["_ref","orderData","bookingDetails","packageDetails","formattedDate","Date","toLocaleDateString","year","month","day","order","order_id","order_amount","order_status","booking","fullName","email","phone","travelDate","travelers","packageInfo","name","location","duration","price","_jsxs","className","children","_jsx","gender","age","additionalTravelers","length","map","traveler","index","toLocaleString","getFullYear","searchParams","useSearchParams","navigate","useNavigate","orderId","get","paymentStatus","setPaymentStatus","useState","loading","success","error","message","orderDetails","setBookingDetails","setPackageDetails","showReceipt","setShowReceipt","receiptSent","setReceiptSent","isDownloading","setIsDownloading","isSendingEmail","setIsSendingEmail","emailSendProgress","setEmailSendProgress","serverStatus","setServerStatus","isEmailSendingComplete","setIsEmailSendingComplete","loadingMessage","setLoadingMessage","showToast","setShowToast","toastMessage","setToastMessage","toastType","setToastType","bookingSaved","setBookingSaved","paymentVerified","setPaymentVerified","effectRan","useRef","checkServerStatus","async","fetch","apiEndpoints","createBookingRequest","replace","method","headers","ok","console","useEffect","window","scrollTo","top","behavior","current","then","isServerRunning","verifyPayment","storedPackageId","sessionStorage","getItem","storedBookingDetails","JSON","parse","storedPackageDetails","urlParams","URLSearchParams","search","bookingDataParam","packageDataParam","decodeURIComponent","err","log","data","Error","response","json","currentDate","updatedOrderDetails","payment_time","toISOString","booking_date","status","localBookingDetails","localPackageDetails","hasBookingDetails","hasPackageDetails","hasBookingParam","hasPackageParam","parsedBookingDetails","parsedPackageDetails","setTimeout","hasOrderDetails","saveResult","bookingDetailsToSave","packageDetailsToSave","alreadyExists","finalOrderData","finalBookingDetails","finalPackageDetails","customerName","packageName","requestId","now","toString","body","stringify","specialRequests","id","_id","saveBookingToDatabase","loadingMessages","messageIndex","progressInterval","setInterval","prev","sendReceiptEmail","clearInterval","emailError","currentDateISOString","bookingDetailsToUse","arguments","undefined","packageDetailsToUse","startTime","hasOrderData","elapsedTime","remainingTime","Math","max","Promise","resolve","downloadReceipt","retrievedBookingDetails","retrievedPackageDetails","signal","AbortSignal","timeout","statusText","blob","url","URL","createObjectURL","link","document","createElement","href","download","appendChild","click","removeChild","revokeObjectURL","toggleReceiptView","style","backgroundColor","width","AnimatedElement","animation","dateString","toLocaleTimeString","hour","minute","hour12","formatTimeOnly","Link","to","_Fragment","onClick","disabled","padding","borderRadius","fontSize","fontWeight","display","alignItems","justifyContent","transition","cursor","color","border","marginRight","ReceiptTemplate","Toast","type","onClose","API_BASE_URL","getAllPackages","getPackageById","createBooking","createCustomPackageRequest","getDestinations","createOrder","saveBooking","sendReceipt","generateReceipt","healthCheck","getAllBookings","getBookingById","adminPackages","adminPackageById","delay","threshold","once","isVisible","setIsVisible","hasAnimated","setHasAnimated","elementRef","currentElement","observer","IntersectionObserver","entries","entry","isIntersecting","rootMargin","observe","unobserve","animationStyle","animationDelay","animationDuration","ref"],"sourceRoot":""}