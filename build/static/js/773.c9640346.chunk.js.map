{"version":3,"file":"static/js/773.c9640346.chunk.js","mappings":"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","sources":["components/ReceiptTemplate.jsx","pages/PaymentStatusPage.jsx","components/AnimatedElement.jsx"],"sourcesContent":["import \"../styles/ReceiptTemplate.css\";\r\n\r\nconst ReceiptTemplate = ({ orderData, bookingDetails, packageDetails }) => {\r\n  const date = new Date();\r\n  const formattedDate = date.toLocaleDateString(\"en-IN\", {\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n  });\r\n\r\n  // Ensure we have valid data by providing defaults\r\n  const order = orderData || {\r\n    order_id: \"Unknown\",\r\n    order_amount: 0,\r\n    order_status: \"UNKNOWN\",\r\n  };\r\n\r\n  const booking = bookingDetails || {\r\n    fullName: \"Customer\",\r\n    email: \"customer@example.com\",\r\n    phone: \"N/A\",\r\n    travelDate: formattedDate,\r\n    travelers: 1,\r\n  };\r\n\r\n  const packageInfo = packageDetails || {\r\n    name: \"Travel Package\",\r\n    location: \"Destination\",\r\n    duration: \"N/A\",\r\n    price: order.order_amount || 0,\r\n  };\r\n\r\n  return (\r\n    <div className=\"rt-receipt\">\r\n      <div className=\"rt-header\">\r\n        <div className=\"rt-logo-container\">\r\n          <div className=\"rt-logo\">TripEasy</div>\r\n          <div className=\"rt-logo-tagline\">Explore. Experience. Enjoy.</div>\r\n        </div>\r\n        <div className=\"rt-company-info\">\r\n          <p>TripEasy Travel Services </p>\r\n          <p>Shop No 16, 2nd Floor,</p>\r\n          <p>VED TransCube opposite the Main Railway Station, Vadodara,</p>\r\n          <p>GST: 07AABCT1234Z1ZL</p>\r\n        </div>\r\n        <div className=\"rt-receipt-title-container\">\r\n          <h1 className=\"rt-receipt-title\">Booking Receipt</h1>\r\n          <div className=\"rt-receipt-id\">Receipt #{order.order_id}</div>\r\n          <div className=\"rt-receipt-date\">Date: {formattedDate}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"rt-details\">\r\n        <div className=\"rt-section\">\r\n          <div className=\"rt-section-title\">\r\n            <i className=\"fas fa-user-circle\"></i> Customer Information\r\n          </div>\r\n          <div className=\"rt-detail-row\">\r\n            <span className=\"rt-detail-label\">Name:</span>\r\n            <span>{booking.fullName}</span>\r\n          </div>\r\n          <div className=\"rt-detail-row\">\r\n            <span className=\"rt-detail-label\">Email:</span>\r\n            <span>{booking.email}</span>\r\n          </div>\r\n          <div className=\"rt-detail-row\">\r\n            <span className=\"rt-detail-label\">Phone:</span>\r\n            <span>{booking.phone}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"rt-section\">\r\n          <div className=\"rt-section-title\">\r\n            <i className=\"fas fa-map-marked-alt\"></i> Package Details\r\n          </div>\r\n          <div className=\"rt-detail-row\">\r\n            <span className=\"rt-detail-label\">Package Name:</span>\r\n            <span>{packageInfo.name}</span>\r\n          </div>\r\n          <div className=\"rt-detail-row\">\r\n            <span className=\"rt-detail-label\">Destination:</span>\r\n            <span>{packageInfo.location}</span>\r\n          </div>\r\n          <div className=\"rt-detail-row\">\r\n            <span className=\"rt-detail-label\">Duration:</span>\r\n            <span>{packageInfo.duration} Days</span>\r\n          </div>\r\n          <div className=\"rt-detail-row\">\r\n            <span className=\"rt-detail-label\">Travel Date:</span>\r\n            <span>{booking.travelDate}</span>\r\n          </div>\r\n          <div className=\"rt-detail-row\">\r\n            <span className=\"rt-detail-label\">Number of Travelers:</span>\r\n            <span>{booking.travelers}</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Travelers Section */}\r\n        <div className=\"rt-section\">\r\n          <div className=\"rt-section-title\">\r\n            <i className=\"fas fa-users\"></i> Traveler Details\r\n          </div>\r\n\r\n          {/* Lead Traveler */}\r\n          <div className=\"rt-traveler-item\">\r\n            <div className=\"rt-traveler-header\">Lead Traveler</div>\r\n            <div className=\"rt-traveler-details\">\r\n              <div className=\"rt-traveler-detail\">\r\n                <span className=\"rt-detail-label\">Name:</span>\r\n                <span>{booking.fullName}</span>\r\n              </div>\r\n              <div className=\"rt-traveler-detail\">\r\n                <span className=\"rt-detail-label\">Gender:</span>\r\n                <span>{booking.gender || \"Not specified\"}</span>\r\n              </div>\r\n              <div className=\"rt-traveler-detail\">\r\n                <span className=\"rt-detail-label\">Age:</span>\r\n                <span>{booking.age || \"Not specified\"}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Additional Travelers */}\r\n          {booking.additionalTravelers &&\r\n            booking.additionalTravelers.length > 0 && (\r\n              <div className=\"rt-additional-travelers\">\r\n                {booking.additionalTravelers.map((traveler, index) => (\r\n                  <div key={index} className=\"rt-traveler-item\">\r\n                    <div className=\"rt-traveler-header\">\r\n                      Traveler {index + 2}\r\n                    </div>\r\n                    <div className=\"rt-traveler-details\">\r\n                      <div className=\"rt-traveler-detail\">\r\n                        <span className=\"rt-detail-label\">Name:</span>\r\n                        <span>{traveler.fullName}</span>\r\n                      </div>\r\n                      <div className=\"rt-traveler-detail\">\r\n                        <span className=\"rt-detail-label\">Gender:</span>\r\n                        <span>{traveler.gender || \"Not specified\"}</span>\r\n                      </div>\r\n                      <div className=\"rt-traveler-detail\">\r\n                        <span className=\"rt-detail-label\">Age:</span>\r\n                        <span>{traveler.age || \"Not specified\"}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n        </div>\r\n\r\n        <div className=\"rt-section\">\r\n          <div className=\"rt-section-title\">\r\n            <i className=\"fas fa-credit-card\"></i> Payment Information\r\n          </div>\r\n          <div className=\"rt-detail-row\">\r\n            <span className=\"rt-detail-label\">Order ID:</span>\r\n            <span>{order.order_id}</span>\r\n          </div>\r\n          <div className=\"rt-detail-row\">\r\n            <span className=\"rt-detail-label\">Payment Status:</span>\r\n            <span className=\"rt-payment-success\">\r\n              {order.order_status || \"PAID\"}\r\n            </span>\r\n          </div>\r\n          <div className=\"rt-detail-row\">\r\n            <span className=\"rt-detail-label\">Price per Person:</span>\r\n            <span>Rs {(packageInfo.price || 0).toLocaleString(\"en-IN\")}</span>\r\n          </div>\r\n          <div className=\"rt-detail-row rt-total-row\">\r\n            <span className=\"rt-detail-label\">Total Amount:</span>\r\n            <span>Rs {(order.order_amount || 0).toLocaleString(\"en-IN\")}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Barcode section removed */}\r\n\r\n      <div className=\"rt-ticket-note\">\r\n        <i className=\"fas fa-ticket-alt\"></i>\r\n        <p>\r\n          Your original booking package tickets will be provided within a few\r\n          hours.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"rt-footer\">\r\n        <div className=\"rt-terms\">\r\n          <h4>Terms & Conditions</h4>\r\n          <ul>\r\n            <li>This receipt is proof of payment only.</li>\r\n            <li>\r\n              Cancellation policy: 48 hours notice required for full refund.\r\n            </li>\r\n            <li>\r\n              Please carry a valid ID proof for all travelers during the trip.\r\n            </li>\r\n            <li>\r\n              Package inclusions are as per the itinerary shared at the time of\r\n              booking.\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"rt-contact\">\r\n          <p>Thank you for booking with TripEasy!</p>\r\n          <p>\r\n            For any queries, please contact us at{\" \"}\r\n            <strong>booking.tripeasy@gmail.com</strong> or call{\" \"}\r\n            <strong>+91 9157450389</strong>\r\n          </p>\r\n          <p>Â© {new Date().getFullYear()} TripEasy. All rights reserved.</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceiptTemplate;\r\n","\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { useSearchParams, useNavigate, Link } from \"react-router-dom\";\r\nimport \"../styles/PaymentStatusPage.css\";\r\nimport AnimatedElement from \"../components/AnimatedElement\";\r\nimport Toast from \"../components/Toast\";\r\nimport ReceiptTemplate from \"../components/ReceiptTemplate\";\r\n\r\nfunction PaymentStatus() {\r\n  const [searchParams] = useSearchParams();\r\n  const navigate = useNavigate();\r\n  const orderId = searchParams.get(\"order_id\");\r\n\r\n  // Payment status state\r\n  const [paymentStatus, setPaymentStatus] = useState({\r\n    loading: true,\r\n    success: false,\r\n    error: false,\r\n    message: \"\",\r\n    orderDetails: null,\r\n  });\r\n\r\n  // Booking details state\r\n  const [bookingDetails, setBookingDetails] = useState(null);\r\n  const [packageDetails, setPackageDetails] = useState(null);\r\n\r\n  // Receipt state\r\n  const [showReceipt, setShowReceipt] = useState(false);\r\n  const [receiptSent, setReceiptSent] = useState(false);\r\n  const [isDownloading, setIsDownloading] = useState(false);\r\n  const [isSendingEmail, setIsSendingEmail] = useState(false);\r\n  const [emailSendProgress, setEmailSendProgress] = useState(0); // Add progress state for loader\r\n  const [serverStatus, setServerStatus] = useState(true); // Track server connection status\r\n  const [isEmailSendingComplete, setIsEmailSendingComplete] = useState(false);\r\n  const [loadingMessage, setLoadingMessage] = useState(\r\n    \"Preparing your receipt...\"\r\n  ); // Dynamic loading message\r\n\r\n  // Toast notification\r\n  const [showToast, setShowToast] = useState(false);\r\n  const [toastMessage, setToastMessage] = useState(\"\");\r\n  const [toastType, setToastType] = useState(\"info\");\r\n\r\n  // Add this at the top of the component with other state variables\r\n  const [bookingSaved, setBookingSaved] = useState(false);\r\n\r\n  // Add this new state variable to prevent duplicate payment verification\r\n  const [paymentVerified, setPaymentVerified] = useState(false);\r\n\r\n  // Use a ref to track if the effect has run\r\n  const effectRan = useRef(false);\r\n\r\n  // Check if server is running\r\n  const checkServerStatus = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/ha\", {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (response.ok) {\r\n        setServerStatus(true);\r\n        return true;\r\n      } else {\r\n        setServerStatus(false);\r\n        return false;\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Server connection error:\", error);\r\n      setServerStatus(false);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // Function to format date and time separately\r\n  const formatDateOnly = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(\"en-IN\", {\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const formatTimeOnly = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleTimeString(\"en-IN\", {\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n      hour12: true,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Scroll to top when component mounts\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n\r\n    // In development, React.StrictMode causes effects to run twice\r\n    // This check ensures we only run our main logic once\r\n    if (effectRan.current === true && process.env.NODE_ENV !== \"production\") {\r\n      return;\r\n    }\r\n\r\n    effectRan.current = true;\r\n\r\n    // Check server status first\r\n    checkServerStatus().then((isServerRunning) => {\r\n      if (!isServerRunning) {\r\n        setToastMessage(\r\n          \"Server connection error. Please make sure the server is running.\"\r\n        );\r\n        setToastType(\"error\");\r\n        setShowToast(true);\r\n      }\r\n\r\n      // Verify payment if order ID exists and hasn't been verified yet\r\n      if (orderId && !paymentVerified) {\r\n        verifyPayment();\r\n\r\n        // Try to retrieve booking details from sessionStorage\r\n        try {\r\n          // Get the package ID from sessionStorage if available\r\n          const storedPackageId = sessionStorage.getItem(\"currentPackageId\");\r\n\r\n          if (storedPackageId) {\r\n            const storedBookingDetails = JSON.parse(\r\n              sessionStorage.getItem(`bookingDetails_${storedPackageId}`)\r\n            );\r\n            const storedPackageDetails = JSON.parse(\r\n              sessionStorage.getItem(`packageDetails_${storedPackageId}`)\r\n            );\r\n\r\n            if (storedBookingDetails) setBookingDetails(storedBookingDetails);\r\n            if (storedPackageDetails) setPackageDetails(storedPackageDetails);\r\n          } else {\r\n            // Try to get booking details from URL state if available\r\n            const urlParams = new URLSearchParams(window.location.search);\r\n            const bookingDataParam = urlParams.get(\"bookingData\");\r\n            const packageDataParam = urlParams.get(\"packageData\");\r\n\r\n            if (bookingDataParam && packageDataParam) {\r\n              try {\r\n                setBookingDetails(\r\n                  JSON.parse(decodeURIComponent(bookingDataParam))\r\n                );\r\n                setPackageDetails(\r\n                  JSON.parse(decodeURIComponent(packageDataParam))\r\n                );\r\n              } catch (err) {\r\n                console.error(\"Error parsing URL parameters\", err);\r\n              }\r\n            }\r\n          }\r\n        } catch (err) {\r\n          console.error(\r\n            \"Error retrieving booking details from sessionStorage\",\r\n            err\r\n          );\r\n        }\r\n      } else if (!orderId) {\r\n        setPaymentStatus({\r\n          loading: false,\r\n          success: false,\r\n          error: true,\r\n          message: \"No order ID found\",\r\n          orderDetails: null,\r\n        });\r\n      }\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [orderId]); // We're intentionally excluding paymentVerified and verifyPayment from dependencies\r\n\r\n  // Modify the saveBookingToDatabase function in the client to use a more robust approach\r\n  const saveBookingToDatabase = async (\r\n    orderData,\r\n    bookingDetailsToSave,\r\n    packageDetailsToSave\r\n  ) => {\r\n    try {\r\n      // Check if booking has already been saved in this session\r\n      if (bookingSaved) {\r\n        console.log(\r\n          \"Booking already saved in this session, skipping duplicate save\"\r\n        );\r\n        return { success: true, alreadyExists: true };\r\n      }\r\n\r\n      // Check server status first\r\n      const isServerRunning = await checkServerStatus();\r\n      if (!isServerRunning) {\r\n        throw new Error(\r\n          \"Server connection error. Please make sure the server is running.\"\r\n        );\r\n      }\r\n\r\n      // Use provided details or fall back to state\r\n      const finalOrderData =\r\n        orderData ||\r\n        (paymentStatus.orderDetails ? paymentStatus.orderDetails : null);\r\n      const finalBookingDetails = bookingDetailsToSave || bookingDetails;\r\n      const finalPackageDetails = packageDetailsToSave || packageDetails;\r\n\r\n      if (!finalOrderData) {\r\n        console.error(\"Cannot save booking: missing order details\");\r\n        return null;\r\n      }\r\n\r\n      if (!finalBookingDetails || !finalPackageDetails) {\r\n        console.error(\r\n          \"Cannot save booking: missing booking or package details\"\r\n        );\r\n        return null;\r\n      }\r\n\r\n      // Set the flag to indicate booking save attempt is in progress - BEFORE the API call\r\n      // This prevents multiple simultaneous calls\r\n      setBookingSaved(true);\r\n\r\n      console.log(\"Saving booking to database:\", {\r\n        orderId: finalOrderData.order_id,\r\n        customerName: finalBookingDetails.fullName,\r\n        packageName: finalPackageDetails.name,\r\n      });\r\n\r\n      // Add a unique request ID to help track duplicate requests\r\n      const requestId = Date.now().toString();\r\n\r\n      const response = await fetch(\"/api/save-booking\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"X-Request-ID\": requestId,\r\n        },\r\n        body: JSON.stringify({\r\n          orderData: finalOrderData,\r\n          bookingDetails: finalBookingDetails,\r\n          packageDetails: finalPackageDetails,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        // If the save failed, reset the bookingSaved flag to allow retries\r\n        if (response.status !== 409) {\r\n          // 409 = Conflict, which means it was already saved\r\n          setBookingSaved(false);\r\n        }\r\n        throw new Error(data.message || \"Failed to save booking\");\r\n      }\r\n\r\n      console.log(\"Booking saved successfully:\", data);\r\n      return data;\r\n    } catch (error) {\r\n      console.error(\"Error saving booking:\", error);\r\n      setToastMessage(\r\n        error.message || \"Failed to save booking. Please try again later.\"\r\n      );\r\n      setToastType(\"error\");\r\n      setShowToast(true);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Update the verifyPayment function to ensure it only runs once\r\n  const verifyPayment = async () => {\r\n    // Check if payment has already been verified in this session\r\n    if (paymentVerified) {\r\n      console.log(\r\n        \"Payment already verified in this session, skipping duplicate verification\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Set flag BEFORE making the request to prevent race conditions\r\n    setPaymentVerified(true);\r\n\r\n    let data;\r\n    try {\r\n      // Check server status first\r\n      const isServerRunning = await checkServerStatus();\r\n      if (!isServerRunning) {\r\n        throw new Error(\r\n          \"Server connection error. Please make sure the server is running.\"\r\n        );\r\n      }\r\n\r\n      const response = await fetch(`/api/verify-payment/${orderId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-api-version\": \"2023-08-01\",\r\n          // Add a unique request ID to help track duplicate requests\r\n          \"X-Request-ID\": Date.now().toString(),\r\n        },\r\n      });\r\n\r\n      data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.message || \"Failed to verify payment\");\r\n      }\r\n\r\n      // Get current date and time for payment time if not available\r\n      const currentDate = new Date();\r\n\r\n      // Update payment status based on response with formatted date\r\n      const updatedOrderDetails = {\r\n        ...data.data,\r\n        // Use the payment_time from API if available, otherwise use current date\r\n        payment_time:\r\n          data.data && data.data.payment_time\r\n            ? data.data.payment_time\r\n            : currentDate.toISOString(),\r\n        // Add booking date (using current date as fallback)\r\n        booking_date:\r\n          data.data && data.data.booking_date\r\n            ? data.data.booking_date\r\n            : currentDate.toISOString(),\r\n      };\r\n\r\n      setPaymentStatus({\r\n        loading: false,\r\n        success: data.status === \"PAID\",\r\n        error: data.status !== \"PAID\",\r\n        message: data.message,\r\n        orderDetails: updatedOrderDetails,\r\n      });\r\n\r\n      // If payment is successful, try to retrieve booking details one more time if not already set\r\n      if (data.status === \"PAID\") {\r\n        let localBookingDetails = bookingDetails;\r\n        let localPackageDetails = packageDetails;\r\n\r\n        if (!bookingDetails || !packageDetails) {\r\n          const storedPackageId = sessionStorage.getItem(\"currentPackageId\");\r\n          console.log(\r\n            \"Trying to retrieve booking details from sessionStorage with packageId:\",\r\n            storedPackageId\r\n          );\r\n\r\n          if (storedPackageId) {\r\n            try {\r\n              const storedBookingDetails = JSON.parse(\r\n                sessionStorage.getItem(`bookingDetails_${storedPackageId}`)\r\n              );\r\n              const storedPackageDetails = JSON.parse(\r\n                sessionStorage.getItem(`packageDetails_${storedPackageId}`)\r\n              );\r\n\r\n              console.log(\"Retrieved from sessionStorage:\", {\r\n                hasBookingDetails: !!storedBookingDetails,\r\n                hasPackageDetails: !!storedPackageDetails,\r\n              });\r\n\r\n              if (storedBookingDetails) {\r\n                localBookingDetails = storedBookingDetails;\r\n                setBookingDetails(storedBookingDetails);\r\n              }\r\n              if (storedPackageDetails) {\r\n                localPackageDetails = storedPackageDetails;\r\n                setPackageDetails(storedPackageDetails);\r\n              }\r\n            } catch (err) {\r\n              console.error(\r\n                \"Error retrieving booking details from sessionStorage\",\r\n                err\r\n              );\r\n            }\r\n          } else {\r\n            // Try to get booking details from URL state if available\r\n            const urlParams = new URLSearchParams(window.location.search);\r\n            const bookingDataParam = urlParams.get(\"bookingData\");\r\n            const packageDataParam = urlParams.get(\"packageData\");\r\n\r\n            console.log(\"Trying to retrieve booking details from URL params:\", {\r\n              hasBookingParam: !!bookingDataParam,\r\n              hasPackageParam: !!packageDataParam,\r\n            });\r\n\r\n            if (bookingDataParam && packageDataParam) {\r\n              try {\r\n                const parsedBookingDetails = JSON.parse(\r\n                  decodeURIComponent(bookingDataParam)\r\n                );\r\n                const parsedPackageDetails = JSON.parse(\r\n                  decodeURIComponent(packageDataParam)\r\n                );\r\n\r\n                localBookingDetails = parsedBookingDetails;\r\n                localPackageDetails = parsedPackageDetails;\r\n\r\n                setBookingDetails(parsedBookingDetails);\r\n                setPackageDetails(parsedPackageDetails);\r\n              } catch (err) {\r\n                console.error(\"Error parsing URL parameters\", err);\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // After retrieving booking details, process only if we have all required data\r\n        if (localBookingDetails && localPackageDetails && updatedOrderDetails) {\r\n          // Use a single timeout to prevent multiple calls\r\n          setTimeout(async () => {\r\n            console.log(\"Processing successful payment with:\", {\r\n              hasBookingDetails: !!localBookingDetails,\r\n              hasPackageDetails: !!localPackageDetails,\r\n              hasOrderDetails: !!updatedOrderDetails,\r\n            });\r\n\r\n            try {\r\n              // Save booking to database first with the updated order details\r\n              // Use await to ensure we wait for the result before proceeding\r\n              const saveResult = await saveBookingToDatabase(\r\n                updatedOrderDetails,\r\n                localBookingDetails,\r\n                localPackageDetails\r\n              );\r\n\r\n              // Only proceed with email sending if booking was saved or already exists\r\n              if (saveResult && saveResult.success) {\r\n                // Show loader for email sending\r\n                setIsSendingEmail(true);\r\n                setEmailSendProgress(0); // Start progress at 0%\r\n                setIsEmailSendingComplete(false); // Reset email sending state\r\n                setLoadingMessage(\"Preparing your receipt...\"); // Initial message\r\n\r\n                // Create an array of loading messages to cycle through\r\n                const loadingMessages = [\r\n                  \"Preparing your receipt...\",\r\n                  \"Generating PDF document...\",\r\n                  \"Adding booking details...\",\r\n                  \"Formatting your receipt...\",\r\n                  \"Sending to your email...\",\r\n                  \"Almost done...\",\r\n                ];\r\n\r\n                // Start progress animation with message changes\r\n                let messageIndex = 0;\r\n                const progressInterval = setInterval(() => {\r\n                  setEmailSendProgress((prev) => {\r\n                    // Increase progress gradually up to 85% (reserve the rest for actual completion)\r\n                    if (prev < 85) {\r\n                      // Change message every ~20% progress\r\n                      if (\r\n                        prev % 20 === 0 &&\r\n                        messageIndex < loadingMessages.length - 1\r\n                      ) {\r\n                        messageIndex++;\r\n                        setLoadingMessage(loadingMessages[messageIndex]);\r\n                      }\r\n                      return prev + 2;\r\n                    }\r\n                    return prev;\r\n                  });\r\n                }, 120); // Update more frequently for smoother animation\r\n\r\n                try {\r\n                  // Send the email\r\n                  await sendReceiptEmail(\r\n                    updatedOrderDetails,\r\n                    localBookingDetails,\r\n                    localPackageDetails\r\n                  );\r\n\r\n                  // Clear the interval when done\r\n                  clearInterval(progressInterval);\r\n\r\n                  // Set final message\r\n                  setLoadingMessage(\"Receipt sent successfully!\");\r\n\r\n                  // Complete the progress\r\n                  setEmailSendProgress(100);\r\n\r\n                  // Set email sending complete after a delay to ensure the progress bar completes visually\r\n                  setTimeout(() => {\r\n                    setIsEmailSendingComplete(true);\r\n\r\n                    // Show toast only after email is sent\r\n                    setToastMessage(\"Receipt has been sent to your email\");\r\n                    setToastType(\"success\");\r\n                    setShowToast(true);\r\n                  }, 500);\r\n                } catch (emailError) {\r\n                  clearInterval(progressInterval);\r\n                  console.error(\"Error sending receipt email:\", emailError);\r\n                  setIsEmailSendingComplete(true);\r\n                  setToastMessage(\r\n                    \"Could not send receipt email. Please try again later.\"\r\n                  );\r\n                  setToastType(\"error\");\r\n                  setShowToast(true);\r\n                }\r\n              } else {\r\n                console.error(\"Cannot proceed with email: booking save failed\");\r\n                setToastMessage(\r\n                  \"Could not save booking details. Please try again later.\"\r\n                );\r\n                setToastType(\"error\");\r\n                setShowToast(true);\r\n              }\r\n            } catch (error) {\r\n              console.error(\"Error in payment processing:\", error);\r\n              setToastMessage(\r\n                \"Error processing payment. Please try again later.\"\r\n              );\r\n              setToastType(\"error\");\r\n              setShowToast(true);\r\n            }\r\n          }, 1000); // Reduced timeout to 1 second for faster response\r\n        } else if (data.status === \"PAID\") {\r\n          console.error(\"Cannot process payment: missing required details\");\r\n          setToastMessage(\r\n            \"Could not process payment: missing required details\"\r\n          );\r\n          setToastType(\"error\");\r\n          setShowToast(true);\r\n        }\r\n      }\r\n\r\n      // Only show toast for errors, not for successful verification\r\n      if (data.status !== \"PAID\") {\r\n        setToastMessage(data.message);\r\n        setToastType(\"error\");\r\n        setShowToast(true);\r\n      }\r\n    } catch (error) {\r\n      // If verification fails, reset the flag to allow retries\r\n      setPaymentVerified(false);\r\n\r\n      console.error(\"Error verifying payment:\", error);\r\n\r\n      // Get current date and time as fallback\r\n      const currentDate = new Date();\r\n      const currentDateISOString = currentDate.toISOString();\r\n\r\n      setPaymentStatus({\r\n        loading: false,\r\n        success: false,\r\n        error: true,\r\n        message: \"Failed to verify payment. Please try again later.\",\r\n        orderDetails: {\r\n          order_id: orderId || \"Unknown\",\r\n          order_amount: 0,\r\n          order_status: \"FAILED\",\r\n          payment_time: currentDateISOString,\r\n          booking_date: currentDateISOString,\r\n        },\r\n      });\r\n\r\n      setToastMessage(\r\n        error.message || \"Failed to verify payment. Please try again later.\"\r\n      );\r\n      setToastType(\"error\");\r\n      setShowToast(true);\r\n    }\r\n  };\r\n\r\n  // Function to send receipt email\r\n  const sendReceiptEmail = async (\r\n    orderData,\r\n    bookingDetailsToUse = null,\r\n    packageDetailsToUse = null\r\n  ) => {\r\n    try {\r\n      // Record the start time to ensure minimum 5 seconds display\r\n      const startTime = Date.now();\r\n\r\n      // Check server status first\r\n      const isServerRunning = await checkServerStatus();\r\n      if (!isServerRunning) {\r\n        throw new Error(\r\n          \"Server connection error. Please make sure the server is running.\"\r\n        );\r\n      }\r\n\r\n      // Use provided details or fall back to state\r\n      const finalBookingDetails = bookingDetailsToUse || bookingDetails;\r\n      const finalPackageDetails = packageDetailsToUse || packageDetails;\r\n\r\n      if (!finalBookingDetails || !finalPackageDetails) {\r\n        console.error(\"Missing booking or package details for receipt email\");\r\n        return;\r\n      }\r\n\r\n      console.log(\"Sending receipt email with details:\", {\r\n        hasOrderData: !!orderData,\r\n        hasBookingDetails: !!finalBookingDetails,\r\n        hasPackageDetails: !!finalPackageDetails,\r\n      });\r\n\r\n      setIsSendingEmail(true);\r\n      setEmailSendProgress(50); // Update progress to 50%\r\n\r\n      const response = await fetch(\"/api/send-receipt\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          // Add a unique request ID to help track duplicate requests\r\n          \"X-Request-ID\": Date.now().toString(),\r\n        },\r\n        body: JSON.stringify({\r\n          orderData,\r\n          bookingDetails: finalBookingDetails,\r\n          packageDetails: finalPackageDetails,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      // Calculate how much time has passed\r\n      const elapsedTime = Date.now() - startTime;\r\n      const remainingTime = Math.max(0, 5000 - elapsedTime);\r\n\r\n      // If less than 5 seconds have passed, wait for the remaining time\r\n      if (remainingTime > 0) {\r\n        // Update progress to 85% while waiting\r\n        setEmailSendProgress(85);\r\n        setLoadingMessage(\"Finalizing your receipt...\");\r\n        await new Promise((resolve) => setTimeout(resolve, remainingTime));\r\n      }\r\n\r\n      if (data.success) {\r\n        setReceiptSent(true);\r\n        setIsSendingEmail(false);\r\n        setEmailSendProgress(100); // Complete progress\r\n        setLoadingMessage(\"Receipt sent successfully!\");\r\n\r\n        // We'll show the toast notification in the calling function\r\n        // to ensure we only show it once after the email is sent\r\n      } else {\r\n        console.error(\"Failed to send receipt email:\", data.message);\r\n        setIsSendingEmail(false);\r\n        setEmailSendProgress(0); // Reset progress\r\n\r\n        // Show error toast\r\n        setShowToast(false);\r\n        setTimeout(() => {\r\n          setToastMessage(\"Failed to send receipt email. Please try again.\");\r\n          setToastType(\"error\");\r\n          setShowToast(true);\r\n        }, 300);\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error(\"Error sending receipt email:\", error);\r\n      setIsSendingEmail(false);\r\n      setEmailSendProgress(0); // Reset progress\r\n\r\n      // Show error toast\r\n      setShowToast(false);\r\n      setTimeout(() => {\r\n        setToastMessage(\r\n          error.message || \"Error sending receipt email. Please try again.\"\r\n        );\r\n        setToastType(\"error\");\r\n        setShowToast(true);\r\n      }, 300);\r\n\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Function to download receipt\r\n  const downloadReceipt = async () => {\r\n    try {\r\n      // Check server status first\r\n      const isServerRunning = await checkServerStatus();\r\n      if (!isServerRunning) {\r\n        throw new Error(\r\n          \"Server connection error. Please make sure the server is running.\"\r\n        );\r\n      }\r\n\r\n      if (!paymentStatus.orderDetails) {\r\n        setToastMessage(\"Cannot generate receipt: missing order details\");\r\n        setToastType(\"error\");\r\n        setShowToast(true);\r\n        return;\r\n      }\r\n\r\n      if (!bookingDetails || !packageDetails) {\r\n        // Try to retrieve booking details one more time\r\n        const storedPackageId = sessionStorage.getItem(\"currentPackageId\");\r\n        let retrievedBookingDetails = bookingDetails;\r\n        let retrievedPackageDetails = packageDetails;\r\n\r\n        if (storedPackageId) {\r\n          try {\r\n            const storedBookingDetails = JSON.parse(\r\n              sessionStorage.getItem(`bookingDetails_${storedPackageId}`)\r\n            );\r\n            const storedPackageDetails = JSON.parse(\r\n              sessionStorage.getItem(`packageDetails_${storedPackageId}`)\r\n            );\r\n\r\n            if (storedBookingDetails)\r\n              retrievedBookingDetails = storedBookingDetails;\r\n            if (storedPackageDetails)\r\n              retrievedPackageDetails = storedPackageDetails;\r\n          } catch (err) {\r\n            console.error(\"Error retrieving booking details\", err);\r\n          }\r\n        }\r\n\r\n        if (!retrievedBookingDetails || !retrievedPackageDetails) {\r\n          setToastMessage(\"Cannot generate receipt: missing booking details\");\r\n          setToastType(\"error\");\r\n          setShowToast(true);\r\n          return;\r\n        }\r\n\r\n        // Update state with retrieved details\r\n        if (!bookingDetails) setBookingDetails(retrievedBookingDetails);\r\n        if (!packageDetails) setPackageDetails(retrievedPackageDetails);\r\n      }\r\n\r\n      // Show loading state\r\n      setIsDownloading(true);\r\n      setToastMessage(\"Generating receipt PDF...\");\r\n      setToastType(\"info\");\r\n      setShowToast(true);\r\n\r\n      // Direct approach - fetch the PDF as a blob\r\n      const response = await fetch(\"/api/generate-receipt\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          // Add a unique request ID to help track duplicate requests\r\n          \"X-Request-ID\": Date.now().toString(),\r\n        },\r\n        body: JSON.stringify({\r\n          orderData: paymentStatus.orderDetails,\r\n          bookingDetails: bookingDetails,\r\n          packageDetails: packageDetails,\r\n        }),\r\n        // Add timeout to prevent hanging requests\r\n        signal: AbortSignal.timeout(30000), // 30 second timeout\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Failed to generate receipt: ${response.statusText}`);\r\n      }\r\n\r\n      // Get the blob from the response\r\n      const blob = await response.blob();\r\n\r\n      // Create a URL for the blob\r\n      const url = window.URL.createObjectURL(blob);\r\n\r\n      // Create a temporary link element\r\n      const link = document.createElement(\"a\");\r\n      link.href = url;\r\n      link.download = `TripEasy_Receipt_${paymentStatus.orderDetails.order_id}.pdf`;\r\n\r\n      // Append to the document, click it, and remove it\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n\r\n      // Clean up the URL\r\n      window.URL.revokeObjectURL(url);\r\n\r\n      // Reset downloading state\r\n      setIsDownloading(false);\r\n\r\n      // Show success toast\r\n      setShowToast(false);\r\n      setTimeout(() => {\r\n        setToastMessage(\"Receipt downloaded successfully\");\r\n        setToastType(\"success\");\r\n        setShowToast(true);\r\n      }, 300);\r\n    } catch (error) {\r\n      console.error(\"Error downloading receipt:\", error);\r\n      setIsDownloading(false);\r\n\r\n      setShowToast(false);\r\n      setTimeout(() => {\r\n        setToastMessage(\r\n          error.message || \"Failed to download receipt. Please try again.\"\r\n        );\r\n        setToastType(\"error\");\r\n        setShowToast(true);\r\n      }, 300);\r\n    }\r\n  };\r\n\r\n  // Function to toggle receipt view\r\n  const toggleReceiptView = () => {\r\n    setShowReceipt(!showReceipt);\r\n  };\r\n\r\n  if (paymentStatus.loading) {\r\n    return (\r\n      <div className=\"ps-payment-status-container\">\r\n        <div className=\"ps-loading-container\">\r\n          <div className=\"ps-loading-spinner\"></div>\r\n          <p>Verifying payment status...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Show email sending loader if payment is successful and email is being sent\r\n  if (paymentStatus.success && isSendingEmail && !isEmailSendingComplete) {\r\n    return (\r\n      <div\r\n        className=\"ps-payment-status-container\"\r\n        style={{ backgroundColor: \"white\" }}\r\n      >\r\n        <div className=\"ps-email-sending-fullscreen\">\r\n          <div className=\"ps-email-animation-container\">\r\n            <div className=\"ps-email-icon\">\r\n              <div className=\"ps-envelope\">\r\n                <div className=\"ps-envelope-top\"></div>\r\n                <div className=\"ps-envelope-body\"></div>\r\n                <div className=\"ps-envelope-paper\"></div>\r\n              </div>\r\n              <div className=\"ps-email-waves\">\r\n                <div className=\"ps-wave ps-wave1\"></div>\r\n                <div className=\"ps-wave ps-wave2\"></div>\r\n                <div className=\"ps-wave ps-wave3\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"ps-email-progress-container\">\r\n            <div\r\n              className=\"ps-email-progress-bar\"\r\n              style={{ width: `${emailSendProgress}%` }}\r\n            ></div>\r\n            <div className=\"ps-email-progress-percentage\">\r\n              {emailSendProgress}%\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"ps-email-message\">\r\n            <p>{loadingMessage}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"ps-payment-status-container\">\r\n      <div className=\"container\">\r\n        <AnimatedElement animation=\"fade-up\">\r\n          <div\r\n            className={`ps-status-card ${\r\n              paymentStatus.success ? \"ps-success\" : \"ps-error\"\r\n            }`}\r\n          >\r\n            <div className=\"ps-status-icon\">\r\n              {paymentStatus.success ? (\r\n                <i className=\"fas fa-check-circle ps-animated-success\"></i>\r\n              ) : (\r\n                <i className=\"fas fa-times-circle\"></i>\r\n              )}\r\n            </div>\r\n\r\n            <h2 className=\"ps-status-title\">\r\n              {paymentStatus.success ? \"Payment Successful!\" : \"Payment Failed\"}\r\n            </h2>\r\n\r\n            <p className=\"ps-status-message\">{paymentStatus.message}</p>\r\n\r\n            {!serverStatus && (\r\n              <div className=\"ps-server-error\">\r\n                <i className=\"fas fa-exclamation-triangle\"></i>\r\n                <p>\r\n                  Server connection error. Please make sure the server is\r\n                  running.\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {paymentStatus.success && (\r\n              <div className=\"ps-ticket-info\">\r\n                <i className=\"fas fa-ticket-alt\"></i>\r\n                <p>\r\n                  Your original booking package tickets will be provided within\r\n                  a few hours.\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {paymentStatus.orderDetails && (\r\n              <div className=\"ps-order-details\">\r\n                <h3>\r\n                  <i className=\"fas fa-receipt ps-details-icon\"></i> Order\r\n                  Details\r\n                </h3>\r\n                <div className=\"ps-details-grid\">\r\n                  <div className=\"ps-detail-item\">\r\n                    <span className=\"ps-detail-label\">\r\n                      <i className=\"fas fa-hashtag\"></i> Order ID:\r\n                    </span>\r\n                    <span className=\"ps-detail-value\">\r\n                      {paymentStatus.orderDetails.order_id}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"ps-detail-item\">\r\n                    <span className=\"ps-detail-label\">\r\n                      <i className=\"fas fa-rupee-sign\"></i> Amount:\r\n                    </span>\r\n                    <span className=\"ps-detail-value\">\r\n                      â¹\r\n                      {paymentStatus.orderDetails.order_amount.toLocaleString(\r\n                        \"en-IN\"\r\n                      )}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"ps-detail-item\">\r\n                    <span className=\"ps-detail-label\">\r\n                      <i className=\"fas fa-info-circle\"></i> Status:\r\n                    </span>\r\n                    <span className=\"ps-detail-value ps-status-badge\">\r\n                      {paymentStatus.orderDetails.order_status}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"ps-detail-item\">\r\n                    <span className=\"ps-detail-label\">\r\n                      <i className=\"fas fa-calendar-check\"></i> Booking Date:\r\n                    </span>\r\n                    <span className=\"ps-detail-value\">\r\n                      {formatDateOnly(paymentStatus.orderDetails.booking_date)}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"ps-detail-item\">\r\n                    <span className=\"ps-detail-label\">\r\n                      <i className=\"fas fa-clock\"></i> Payment Time:\r\n                    </span>\r\n                    <span className=\"ps-detail-value\">\r\n                      {formatTimeOnly(paymentStatus.orderDetails.payment_time)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {paymentStatus.success && receiptSent && (\r\n              <div className=\"ps-receipt-info\">\r\n                <p>\r\n                  <i className=\"fas fa-envelope-open-text\"></i> A receipt has\r\n                  been sent to your email address.\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"ps-action-buttons\">\r\n              <Link to=\"/\" className=\"ps-home-button\">\r\n                <i className=\"fas fa-home\"></i> Return to Home\r\n              </Link>\r\n              {paymentStatus.success && (\r\n                <>\r\n                  <button\r\n                    className=\"ps-download-button\"\r\n                    onClick={downloadReceipt}\r\n                    disabled={isDownloading || !serverStatus}\r\n                  >\r\n                    <i className=\"fas fa-download\"></i>\r\n                    {isDownloading ? \"Downloading...\" : \"Download Receipt\"}\r\n                  </button>\r\n                  <button\r\n                    className=\"ps-view-button\"\r\n                    onClick={toggleReceiptView}\r\n                    style={{\r\n                      padding: \"12px 24px\",\r\n                      borderRadius: \"50px\",\r\n                      fontSize: \"16px\",\r\n                      fontWeight: \"600\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                      transition: \"all 0.3s ease\",\r\n                      cursor: \"pointer\",\r\n                      backgroundColor: \"rgb(108,117,125)\",\r\n                      color: \"white\",\r\n                      border: \"none\",\r\n                    }}\r\n                  >\r\n                    <i\r\n                      className=\"fas fa-eye\"\r\n                      style={{ marginRight: \"8px\" }}\r\n                    ></i>{\" \"}\r\n                    View Receipt\r\n                  </button>\r\n                </>\r\n              )}\r\n              {!paymentStatus.success && (\r\n                <button\r\n                  className=\"ps-retry-button\"\r\n                  onClick={() => navigate(-1)}\r\n                >\r\n                  <i className=\"fas fa-redo\"></i> Try Again\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </AnimatedElement>\r\n\r\n        {/* Receipt Modal */}\r\n        {showReceipt &&\r\n          paymentStatus.orderDetails &&\r\n          bookingDetails &&\r\n          packageDetails && (\r\n            <div className=\"ps-receipt-modal\">\r\n              <div className=\"ps-receipt-modal-content\">\r\n                <div className=\"ps-receipt-modal-header\">\r\n                  <h3>Booking Receipt</h3>\r\n                  <button\r\n                    className=\"ps-modal-close\"\r\n                    onClick={toggleReceiptView}\r\n                  >\r\n                    <i className=\"fas fa-times\"></i>\r\n                  </button>\r\n                </div>\r\n                <div className=\"ps-receipt-modal-body\">\r\n                  <ReceiptTemplate\r\n                    orderData={paymentStatus.orderDetails}\r\n                    bookingDetails={bookingDetails}\r\n                    packageDetails={packageDetails}\r\n                  />\r\n                </div>\r\n                <div className=\"ps-receipt-modal-footer\">\r\n                  <button\r\n                    className=\"ps-download-button\"\r\n                    onClick={downloadReceipt}\r\n                    disabled={isDownloading || !serverStatus}\r\n                  >\r\n                    <i className=\"fas fa-download\"></i>\r\n                    {isDownloading ? \"Downloading...\" : \"Download PDF\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n      </div>\r\n\r\n      {/* Toast notification */}\r\n      {showToast && (\r\n        <Toast\r\n          message={toastMessage}\r\n          type={toastType}\r\n          onClose={() => setShowToast(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PaymentStatus;\r\n","\"use client\";\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport \"../styles/AnimatedElement.css\";\r\n\r\n// This component wraps content and animates it when it enters the viewport\r\nfunction AnimatedElement({\r\n  children,\r\n  animation = \"fade-up\", // fade-up, fade-left, fade-right, zoom-in\r\n  delay = 0,\r\n  duration = 800,\r\n  threshold = 0.2, // How much of the element needs to be visible to trigger animation\r\n  className = \"\",\r\n  once = true, // Whether to animate only once or every time the element enters viewport\r\n}) {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [hasAnimated, setHasAnimated] = useState(false);\r\n  const elementRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const currentElement = elementRef.current;\r\n    if (!currentElement) return;\r\n\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        const [entry] = entries;\r\n        if (entry.isIntersecting) {\r\n          if (once && hasAnimated) return;\r\n          setIsVisible(true);\r\n          setHasAnimated(true);\r\n        } else if (!once) {\r\n          setIsVisible(false);\r\n        }\r\n      },\r\n      {\r\n        threshold,\r\n        rootMargin: \"0px\",\r\n      }\r\n    );\r\n\r\n    observer.observe(currentElement);\r\n\r\n    return () => {\r\n      if (currentElement) {\r\n        observer.unobserve(currentElement);\r\n      }\r\n    };\r\n  }, [threshold, once, hasAnimated]);\r\n\r\n  const animationStyle = {\r\n    animationDelay: `${delay}ms`,\r\n    animationDuration: `${duration}ms`,\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={elementRef}\r\n      className={`animated-element ${animation} ${\r\n        isVisible ? \"animate\" : \"\"\r\n      } ${className}`}\r\n      style={animationStyle}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AnimatedElement;\r\n"],"names":["_ref","orderData","bookingDetails","packageDetails","formattedDate","Date","toLocaleDateString","year","month","day","order","order_id","order_amount","order_status","booking","fullName","email","phone","travelDate","travelers","packageInfo","name","location","duration","price","_jsxs","className","children","_jsx","gender","age","additionalTravelers","length","map","traveler","index","toLocaleString","getFullYear","searchParams","useSearchParams","navigate","useNavigate","orderId","get","paymentStatus","setPaymentStatus","useState","loading","success","error","message","orderDetails","setBookingDetails","setPackageDetails","showReceipt","setShowReceipt","receiptSent","setReceiptSent","isDownloading","setIsDownloading","isSendingEmail","setIsSendingEmail","emailSendProgress","setEmailSendProgress","serverStatus","setServerStatus","isEmailSendingComplete","setIsEmailSendingComplete","loadingMessage","setLoadingMessage","showToast","setShowToast","toastMessage","setToastMessage","toastType","setToastType","bookingSaved","setBookingSaved","paymentVerified","setPaymentVerified","effectRan","useRef","checkServerStatus","async","fetch","method","headers","ok","console","useEffect","window","scrollTo","top","behavior","current","then","isServerRunning","verifyPayment","storedPackageId","sessionStorage","getItem","storedBookingDetails","JSON","parse","storedPackageDetails","urlParams","URLSearchParams","search","bookingDataParam","packageDataParam","decodeURIComponent","err","log","data","Error","response","now","toString","json","currentDate","updatedOrderDetails","payment_time","toISOString","booking_date","status","localBookingDetails","localPackageDetails","hasBookingDetails","hasPackageDetails","hasBookingParam","hasPackageParam","parsedBookingDetails","parsedPackageDetails","setTimeout","hasOrderDetails","saveResult","bookingDetailsToSave","packageDetailsToSave","alreadyExists","finalOrderData","finalBookingDetails","finalPackageDetails","customerName","packageName","requestId","body","stringify","saveBookingToDatabase","loadingMessages","messageIndex","progressInterval","setInterval","prev","sendReceiptEmail","clearInterval","emailError","currentDateISOString","bookingDetailsToUse","arguments","undefined","packageDetailsToUse","startTime","hasOrderData","elapsedTime","remainingTime","Math","max","Promise","resolve","downloadReceipt","retrievedBookingDetails","retrievedPackageDetails","signal","AbortSignal","timeout","statusText","blob","url","URL","createObjectURL","link","document","createElement","href","download","appendChild","click","removeChild","revokeObjectURL","toggleReceiptView","style","backgroundColor","width","AnimatedElement","animation","dateString","toLocaleTimeString","hour","minute","hour12","formatTimeOnly","Link","to","_Fragment","onClick","disabled","padding","borderRadius","fontSize","fontWeight","display","alignItems","justifyContent","transition","cursor","color","border","marginRight","ReceiptTemplate","Toast","type","onClose","delay","threshold","once","isVisible","setIsVisible","hasAnimated","setHasAnimated","elementRef","currentElement","observer","IntersectionObserver","entries","entry","isIntersecting","rootMargin","observe","unobserve","animationStyle","animationDelay","animationDuration","ref"],"sourceRoot":""}