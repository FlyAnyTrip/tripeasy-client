"use strict";(self.webpackChunktravel_package=self.webpackChunktravel_package||[]).push([[805],{4646:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var t=s(5043),n=s(3216),r=(s(4503),s(4227)),i=s(579);const o=function(e){let{onFilterChange:a,initialFilters:s={}}=e;const[n,o]=(0,t.useState)({destination:s.destination||"",duration:s.duration||"",budget:s.budget||"",sortBy:s.sortBy||"price-low"}),[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!1),[p,g]=(0,t.useState)(null),[h,m]=(0,t.useState)(-1),[f,k]=(0,t.useState)(-1),[v,x]=(0,t.useState)([]),b=(0,t.useRef)(null),j=(0,t.useRef)(null),y=(0,t.useRef)(null),w=(0,t.useRef)(null),N=(0,t.useRef)(null);(0,t.useEffect)((()=>{(async()=>{try{console.log("[v0] Fetching destinations from:",r.bO.getAllPackages);const e=await fetch(r.bO.getAllPackages);if(e.ok){const a=await e.json();if(console.log("[v0] API Response:",a),a.success&&a.packages){const e=[...new Set(a.packages.map((e=>e.location)))].sort();return x(e),void console.log("[v0] Destinations loaded:",e)}}console.error("[v0] Failed to fetch from API, status:",e.status),x([])}catch(e){console.error("[v0] Error fetching destinations:",e),x([])}})()}),[]);const S=e=>{var a;o((a=>({...a,destination:e}))),c([]),u(!1),m(-1),null===(a=j.current)||void 0===a||a.blur()},B=e=>{p===e?(g(null),k(-1)):(g(e),k(-1))},P=e=>{o((a=>({...a,duration:e}))),g(null),k(-1)},C=e=>{o((a=>({...a,budget:e}))),g(null),k(-1)},D=e=>{o((a=>({...a,sortBy:e}))),g(null),k(-1)},L=(e,a,s)=>{p&&("ArrowDown"===e.key?(e.preventDefault(),k((e=>e<a.length-1?e+1:e))):"ArrowUp"===e.key?(e.preventDefault(),k((e=>e>0?e-1:0))):"Enter"===e.key&&f>=0?(e.preventDefault(),s(a[f].value)):"Escape"===e.key&&(g(null),k(-1)))};(0,t.useEffect)((()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&j.current&&!j.current.contains(e.target)&&u(!1),"duration"===p&&y.current&&!y.current.contains(e.target)&&g(null),"budget"===p&&w.current&&!w.current.contains(e.target)&&g(null),"sortBy"===p&&N.current&&!N.current.contains(e.target)&&g(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[p]);const A=(0,t.useCallback)((e=>{e.preventDefault(),a(n)}),[n,a]),E=(0,t.useCallback)((()=>{const e={destination:"",duration:"",budget:"",sortBy:"price-low"};o(e),a(e)}),[a]);(0,t.useEffect)((()=>{o((e=>({...e,destination:s.destination||e.destination,duration:s.duration||e.duration,budget:s.budget||e.budget,sortBy:s.sortBy||e.sortBy})))}),[s]);const F=[{label:"Any Duration",value:""},{label:"1-3 Days",value:"1-3"},{label:"4-7 Days",value:"4-7"},{label:"8-14 Days",value:"8-14"},{label:"15+ Days",value:"15+"}],I=[{label:"Any Budget",value:""},{label:"\u20b90 - \u20b920,000",value:"0-20000"},{label:"\u20b920,000 - \u20b950,000",value:"20000-50000"},{label:"\u20b950,000 - \u20b91,00,000",value:"50000-100000"},{label:"\u20b91,00,000+",value:"100000+"}],R=[{label:"Price: Low to High",value:"price-low"},{label:"Price: High to Low",value:"price-high"},{label:"Duration: Short to Long",value:"duration-low"},{label:"Duration: Long to Short",value:"duration-high"},{label:"Popularity",value:"popularity"}];return(0,t.useEffect)((()=>{if(h>=0&&b.current){const e=b.current.querySelectorAll(".suggestion-item");e[h]&&e[h].scrollIntoView({behavior:"smooth",block:"nearest"})}}),[h]),(0,i.jsx)("div",{className:"search-bar-container",children:(0,i.jsxs)("div",{className:"search-bar-content",children:[(0,i.jsxs)("div",{className:"search-bar-header",children:[(0,i.jsxs)("h2",{className:"search-title",children:[(0,i.jsx)("span",{className:"search-icon-wrapper",children:(0,i.jsx)("i",{className:"fas fa-search"})}),"Find Your Perfect Trip"]}),(0,i.jsx)("p",{className:"search-subtitle",children:"Search and compare from thousands of destinations"})]}),(0,i.jsxs)("form",{onSubmit:A,className:"search-form",children:[(0,i.jsxs)("div",{className:"search-fields-container",children:[(0,i.jsxs)("div",{className:"search-group",children:[(0,i.jsxs)("label",{htmlFor:"destination",children:[(0,i.jsx)("i",{className:"fas fa-map-marker-alt"}),"Destination"]}),(0,i.jsxs)("div",{className:"input-wrapper",children:[(0,i.jsx)("input",{type:"text",id:"destination",placeholder:"Where do you want to go?",value:n.destination,onChange:e=>{const a=e.target.value;if(o((e=>({...e,destination:a}))),m(-1),a.trim().length>0){const e=v.filter((e=>e.toLowerCase().includes(a.toLowerCase())));c(e),u(!0)}else c(v),u(!0)},onKeyDown:e=>{d&&0!==l.length&&("ArrowDown"===e.key?(e.preventDefault(),m((e=>e<l.length-1?e+1:e))):"ArrowUp"===e.key?(e.preventDefault(),m((e=>e>0?e-1:0))):"Enter"===e.key&&h>=0?(e.preventDefault(),S(l[h])):"Escape"===e.key&&(u(!1),m(-1)))},onFocus:()=>{if(n.destination.trim()){const e=v.filter((e=>e.toLowerCase().includes(n.destination.toLowerCase())));c(e),u(!0)}else c(v),u(!0)},className:"search-input",autoComplete:"off",ref:j}),d&&l.length>0&&(0,i.jsx)("div",{className:"suggestions-container",ref:b,children:(0,i.jsx)("ul",{className:"suggestions-list",children:l.map(((e,a)=>(0,i.jsxs)("li",{className:"suggestion-item "+(h===a?"focused":""),onClick:()=>S(e),children:[(0,i.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,i.jsx)("span",{children:e})]},a)))})})]})]}),(0,i.jsxs)("div",{className:"search-group",children:[(0,i.jsxs)("label",{htmlFor:"duration",children:[(0,i.jsx)("i",{className:"fas fa-calendar-alt"}),"Duration"]}),(0,i.jsxs)("div",{className:"custom-dropdown",ref:y,tabIndex:0,onKeyDown:e=>L(e,F,P),children:[(0,i.jsxs)("div",{className:"dropdown-selected",onClick:()=>B("duration"),children:[(0,i.jsx)("span",{children:n.duration?"1-3"===n.duration?"1-3 Days":"4-7"===n.duration?"4-7 Days":"8-14"===n.duration?"8-14 Days":"15+"===n.duration?"15+ Days":"Any Duration":"Any Duration"}),(0,i.jsx)("i",{className:"fas fa-chevron-down "+("duration"===p?"rotate":"")})]}),"duration"===p&&(0,i.jsx)("div",{className:"dropdown-options",children:F.map(((e,a)=>(0,i.jsx)("div",{className:"dropdown-option "+(f===a?"focused":""),onClick:()=>P(e.value),children:e.label},a)))})]})]}),(0,i.jsxs)("div",{className:"search-group",children:[(0,i.jsxs)("label",{htmlFor:"budget",children:[(0,i.jsx)("i",{className:"fas fa-wallet"}),"Budget"]}),(0,i.jsxs)("div",{className:"custom-dropdown",ref:w,tabIndex:0,onKeyDown:e=>L(e,I,C),children:[(0,i.jsxs)("div",{className:"dropdown-selected",onClick:()=>B("budget"),children:[(0,i.jsx)("span",{children:n.budget?"0-20000"===n.budget?"\u20b90 - \u20b920,000":"20000-50000"===n.budget?"\u20b920,000 - \u20b950,000":"50000-100000"===n.budget?"\u20b950,000 - \u20b91,00,000":"100000+"===n.budget?"\u20b91,00,000+":"Any Budget":"Any Budget"}),(0,i.jsx)("i",{className:"fas fa-chevron-down "+("budget"===p?"rotate":"")})]}),"budget"===p&&(0,i.jsx)("div",{className:"dropdown-options",children:I.map(((e,a)=>(0,i.jsx)("div",{className:"dropdown-option "+(f===a?"focused":""),onClick:()=>C(e.value),children:e.label},a)))})]})]}),(0,i.jsxs)("div",{className:"search-group",children:[(0,i.jsxs)("label",{htmlFor:"sortBy",children:[(0,i.jsx)("i",{className:"fas fa-sort"}),"Sort By"]}),(0,i.jsxs)("div",{className:"custom-dropdown",ref:N,tabIndex:0,onKeyDown:e=>L(e,R,D),children:[(0,i.jsxs)("div",{className:"dropdown-selected",onClick:()=>B("sortBy"),children:[(0,i.jsx)("span",{children:"price-low"===n.sortBy?"Price: Low to High":"price-high"===n.sortBy?"Price: High to Low":"duration-low"===n.sortBy?"Duration: Short to Long":"duration-high"===n.sortBy?"Duration: Long to Short":"popularity"===n.sortBy?"Popularity":"Price: Low to High"}),(0,i.jsx)("i",{className:"fas fa-chevron-down "+("sortBy"===p?"rotate":"")})]}),"sortBy"===p&&(0,i.jsx)("div",{className:"dropdown-options",children:R.map(((e,a)=>(0,i.jsx)("div",{className:"dropdown-option "+(f===a?"focused":""),onClick:()=>D(e.value),children:e.label},a)))})]})]})]}),(0,i.jsxs)("div",{className:"filter-buttons",children:[(0,i.jsxs)("button",{type:"submit",className:"search-button group",children:[(0,i.jsx)("span",{children:"Search Packages"}),(0,i.jsx)("i",{className:"fas fa-search transition-transform group-hover:scale-110"})]}),(0,i.jsxs)("button",{type:"button",className:"reset-filter-btn",onClick:E,children:[(0,i.jsx)("i",{className:"fas fa-undo"}),"Reset"]})]})]})]})})};var l=s(604);const c=function(e){let{filters:a={},packageType:s="all"}=e;const o=(0,n.zy)(),c=(0,n.Zp)(),d=(0,t.useRef)(null),[u,p]=(0,t.useState)([]),[g,h]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{try{console.log("[v0] Fetching packages from:",r.bO.getAllPackages);const a=await fetch(r.bO.getAllPackages,{headers:{"Content-Type":"application/json"}});if(!a.ok){console.error(`[v0] API Error: ${a.status} ${a.statusText}`);const e=await a.text();throw console.error("[v0] Response:",e),new Error(`Failed to fetch packages: ${a.statusText}`)}const s=await a.json();var e;if(console.log("[v0] API Response data:",s),s.success&&s.packages)p(s.packages||[]),console.log(`[v0] Successfully loaded ${(null===(e=s.packages)||void 0===e?void 0:e.length)||0} packages`);else console.error("Failed to fetch packages data:",s.message),p([])}catch(a){console.error("[v0] Error fetching packages data:",a),p([])}finally{h(!1)}})()}),[]);const m=()=>{const e=new URLSearchParams(o.search).get("page");return e?Number.parseInt(e,10):1},[f,k]=(0,t.useState)(m()),v=(0,t.useMemo)((()=>{let e=[...u];if("domestic"===s?e=e.filter((e=>e.location&&e.location.toLowerCase().includes("india"))):"international"===s&&(e=e.filter((e=>!e.location||!e.location.toLowerCase().includes("india")))),a.destination){const s=a.destination.toLowerCase(),t=["india","the","and","&",",","-","of","in","at","to","for","with","by","a","an","escape","retreat","tour","adventure","getaway","vacation","holiday","trip","experience","expedition","journey","splendor","bliss","explorer","package","packages","himalayan"],n=s.split(/[\s,&-]+/).filter((e=>e.length>2&&!t.includes(e)));e=0===n.length?e.filter((e=>e.name.toLowerCase().includes(s)||e.location.toLowerCase().includes(s))):e.filter((e=>{const a=e.name.toLowerCase(),s=e.location.toLowerCase();return n.some((e=>a.includes(e)||s.includes(e)))}))}if(a.duration){const[s,t]=a.duration.split("-").map(Number);e=e.filter((e=>t?e.duration>=s&&e.duration<=t:e.duration>=s))}if(a.budget){const[s,t]=a.budget.split("-").map(Number);e=e.filter((e=>t?e.price>=s&&e.price<=t:e.price>=s))}if(a.sortBy)switch(a.sortBy){case"price-low":e.sort(((e,a)=>e.price-a.price));break;case"price-high":e.sort(((e,a)=>a.price-e.price));break;case"duration-low":e.sort(((e,a)=>e.duration-a.duration));break;case"duration-high":e.sort(((e,a)=>a.duration-e.duration))}return e}),[a,s,u]),x=Math.ceil(v.length/6);(0,t.useEffect)((()=>{const e=m();e<1||x>0&&e>x?c("/404",{replace:!0}):k(e)}),[o.search,x,c]),(0,t.useEffect)((()=>{x>0&&f>x&&c("/404",{replace:!0})}),[f,x,c]);const b=6*f,j=b-6;return v.slice(j,b),g?(0,i.jsx)("div",{className:"package-list-container",ref:d,children:(0,i.jsx)("div",{className:"package-loading",children:(0,i.jsx)("p",{children:"Loading packages..."})})}):(0,i.jsx)("div",{className:"package-list-container",ref:d,children:0===v.length?(0,i.jsxs)("div",{className:"package-no-results",children:[(0,i.jsx)("i",{className:"fas fa-search fa-3x"}),(0,i.jsx)("h3",{children:"No packages found matching your criteria"}),(0,i.jsx)("p",{children:"Try adjusting your search filters or browse our other destinations"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"package-results-summary",children:(0,i.jsxs)("p",{children:["Found ",(0,i.jsx)("span",{children:v.length})," packages matching your criteria",(0,i.jsxs)("span",{className:"package-page-indicator",children:["(Page ",f," of ",x,")"]})]})}),(0,i.jsx)("div",{className:"package-grid",children:v.slice(6*(f-1),6*f).map((e=>(0,i.jsx)("div",{className:"package-card-wrapper",children:(0,i.jsx)(l.A,{package:e},e._id||e.id)},e._id||e.id)))}),x>1&&(0,i.jsxs)("div",{className:"package-pagination",children:[(0,i.jsxs)("button",{onClick:()=>{const e=new URLSearchParams(o.search);e.set("page",Math.max(1,f-1).toString()),c(`${o.pathname}?${e.toString()}`)},disabled:1===f,className:"package-pagination-button","aria-label":"Previous page",children:[(0,i.jsx)("i",{className:"fas fa-chevron-left"})," Previous"]}),(0,i.jsx)("div",{className:"package-page-numbers",children:Array.from({length:x},((e,a)=>a+1)).map((e=>(0,i.jsx)("button",{onClick:()=>{const a=new URLSearchParams(o.search);a.set("page",e.toString()),c(`${o.pathname}?${a.toString()}`)},className:"package-page-number "+(f===e?"package-page-active":""),"aria-label":`Page ${e}`,"aria-current":f===e?"page":void 0,children:e},`page-${e}`)))}),(0,i.jsxs)("button",{onClick:()=>{const e=new URLSearchParams(o.search);e.set("page",Math.min(x,f+1).toString()),c(`${o.pathname}?${e.toString()}`)},disabled:f===x,className:"package-pagination-button","aria-label":"Next page",children:["Next ",(0,i.jsx)("i",{className:"fas fa-chevron-right"})]})]})]})})};var d=s(2294);const u=s.p+"static/media/packages-header.68e78a589e288583f3b8.jpg";var p=s(4619),g=s(4644);const h=function(){const e=(0,n.zy)(),a=(0,n.Zp)(),[s,r]=(0,t.useState)({}),[l,h]=(0,t.useState)({}),[m,f]=(0,t.useState)(!0),[k,v]=(0,t.useState)("all");(0,t.useEffect)((()=>{const a=new URLSearchParams(e.search),s={destination:a.get("destination")||"",duration:a.get("duration")||"",budget:a.get("budget")||"",sortBy:a.get("sortBy")||"price-low"},t=a.get("type")||"all";v(t),r(s),h(s),f(!1),"#package-list"===e.hash&&setTimeout((()=>{const e=document.getElementById("package-list");e&&e.scrollIntoView({behavior:"smooth"})}),500)}),[e.search,e.hash]);const x=(0,t.useCallback)((s=>{f(!0),h(s);const t=new URLSearchParams(e.search);t.delete("destination"),t.delete("duration"),t.delete("budget"),t.delete("sortBy"),s.destination&&t.set("destination",s.destination),s.duration&&t.set("duration",s.duration),s.budget&&t.set("budget",s.budget),s.sortBy&&t.set("sortBy",s.sortBy),"all"!==k&&t.set("type",k),t.set("page","1"),a(`${e.pathname}?${t.toString()}#package-list`),setTimeout((()=>f(!1)),300)}),[a,e.pathname,k,e.search]),b=s=>{f(!0),v(s);const t=new URLSearchParams(e.search);"all"===s?t.delete("type"):t.set("type",s),t.set("page","1"),a(`${e.pathname}?${t.toString()}#package-list`),setTimeout((()=>f(!1)),300)};return(0,i.jsxs)("div",{className:"packages-page",children:[(0,i.jsx)(d.A,{title:"Travel Packages - Domestic & International Tour Packages | TripEasy",description:"Browse our extensive collection of travel packages. Domestic tours to Goa, Kerala, Manali, Rajasthan & international packages to Bali, Thailand, Vietnam. Book now with best prices!",keywords:"travel packages, tour packages, holiday packages, domestic tour packages, international tour packages, vacation packages, India tour packages, Goa packages, Kerala packages, Manali packages, Bali packages, Thailand packages, Vietnam packages, affordable travel packages, best travel deals",canonical:"https://tripeasy.in/packages",structuredData:{"@context":"https://schema.org","@type":"ItemList",name:"Travel Packages",description:"Complete list of domestic and international travel packages",url:"https://tripeasy.in/packages",numberOfItems:"50+"}}),(0,i.jsx)("div",{className:"packages-header",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(${u})`},children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)(p.A,{animation:"fade-up",children:[(0,i.jsx)("h1",{className:"page-title",children:"Best Travel & Holiday Packages"}),(0,i.jsx)("p",{className:"page-subtitle",children:"Domestic & International Tour Packages at Best Prices"})]})})}),(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)(p.A,{animation:"fade-up",children:(0,i.jsx)(o,{onFilterChange:x,initialFilters:s})}),(0,i.jsxs)("div",{id:"package-list",className:"package-type-selector",children:[(0,i.jsxs)("button",{className:"package-type-btn "+("all"===k?"active":""),onClick:()=>b("all"),children:[(0,i.jsx)("i",{className:"fas fa-globe"})," All Packages"]}),(0,i.jsxs)("button",{className:"package-type-btn "+("domestic"===k?"active":""),onClick:()=>b("domestic"),children:[(0,i.jsx)("i",{className:"fas fa-map-marker-alt"})," Domestic Packages"]}),(0,i.jsxs)("button",{className:"package-type-btn "+("international"===k?"active":""),onClick:()=>b("international"),children:[(0,i.jsx)("i",{className:"fas fa-plane"})," International Packages"]})]}),m?(0,i.jsxs)("div",{className:"loading-container",children:[(0,i.jsx)("div",{className:"loading-spinner"}),(0,i.jsx)("p",{children:"Finding packages..."})]}):(0,i.jsx)(p.A,{animation:"fade-up",delay:300,children:(0,i.jsx)(c,{filters:l,packageType:k})})]}),(0,i.jsx)(g.A,{})]})}}}]);
//# sourceMappingURL=805.1303e9db.chunk.js.map