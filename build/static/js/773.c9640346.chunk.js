"use strict";(self.webpackChunktravel_package=self.webpackChunktravel_package||[]).push([[773],{773:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var r=a(5043),i=a(5475),t=a(3216),n=a(4619),l=a(7221),o=a(579);const c=e=>{let{orderData:s,bookingDetails:a,packageDetails:r}=e;const i=(new Date).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),t=s||{order_id:"Unknown",order_amount:0,order_status:"UNKNOWN"},n=a||{fullName:"Customer",email:"customer@example.com",phone:"N/A",travelDate:i,travelers:1},l=r||{name:"Travel Package",location:"Destination",duration:"N/A",price:t.order_amount||0};return(0,o.jsxs)("div",{className:"rt-receipt",children:[(0,o.jsxs)("div",{className:"rt-header",children:[(0,o.jsxs)("div",{className:"rt-logo-container",children:[(0,o.jsx)("div",{className:"rt-logo",children:"TripEasy"}),(0,o.jsx)("div",{className:"rt-logo-tagline",children:"Explore. Experience. Enjoy."})]}),(0,o.jsxs)("div",{className:"rt-company-info",children:[(0,o.jsx)("p",{children:"TripEasy Travel Services "}),(0,o.jsx)("p",{children:"Shop No 16, 2nd Floor,"}),(0,o.jsx)("p",{children:"VED TransCube opposite the Main Railway Station, Vadodara,"}),(0,o.jsx)("p",{children:"GST: 07AABCT1234Z1ZL"})]}),(0,o.jsxs)("div",{className:"rt-receipt-title-container",children:[(0,o.jsx)("h1",{className:"rt-receipt-title",children:"Booking Receipt"}),(0,o.jsxs)("div",{className:"rt-receipt-id",children:["Receipt #",t.order_id]}),(0,o.jsxs)("div",{className:"rt-receipt-date",children:["Date: ",i]})]})]}),(0,o.jsxs)("div",{className:"rt-details",children:[(0,o.jsxs)("div",{className:"rt-section",children:[(0,o.jsxs)("div",{className:"rt-section-title",children:[(0,o.jsx)("i",{className:"fas fa-user-circle"})," Customer Information"]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Name:"}),(0,o.jsx)("span",{children:n.fullName})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Email:"}),(0,o.jsx)("span",{children:n.email})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Phone:"}),(0,o.jsx)("span",{children:n.phone})]})]}),(0,o.jsxs)("div",{className:"rt-section",children:[(0,o.jsxs)("div",{className:"rt-section-title",children:[(0,o.jsx)("i",{className:"fas fa-map-marked-alt"})," Package Details"]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Package Name:"}),(0,o.jsx)("span",{children:l.name})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Destination:"}),(0,o.jsx)("span",{children:l.location})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Duration:"}),(0,o.jsxs)("span",{children:[l.duration," Days"]})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Travel Date:"}),(0,o.jsx)("span",{children:n.travelDate})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Number of Travelers:"}),(0,o.jsx)("span",{children:n.travelers})]})]}),(0,o.jsxs)("div",{className:"rt-section",children:[(0,o.jsxs)("div",{className:"rt-section-title",children:[(0,o.jsx)("i",{className:"fas fa-users"})," Traveler Details"]}),(0,o.jsxs)("div",{className:"rt-traveler-item",children:[(0,o.jsx)("div",{className:"rt-traveler-header",children:"Lead Traveler"}),(0,o.jsxs)("div",{className:"rt-traveler-details",children:[(0,o.jsxs)("div",{className:"rt-traveler-detail",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Name:"}),(0,o.jsx)("span",{children:n.fullName})]}),(0,o.jsxs)("div",{className:"rt-traveler-detail",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Gender:"}),(0,o.jsx)("span",{children:n.gender||"Not specified"})]}),(0,o.jsxs)("div",{className:"rt-traveler-detail",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Age:"}),(0,o.jsx)("span",{children:n.age||"Not specified"})]})]})]}),n.additionalTravelers&&n.additionalTravelers.length>0&&(0,o.jsx)("div",{className:"rt-additional-travelers",children:n.additionalTravelers.map(((e,s)=>(0,o.jsxs)("div",{className:"rt-traveler-item",children:[(0,o.jsxs)("div",{className:"rt-traveler-header",children:["Traveler ",s+2]}),(0,o.jsxs)("div",{className:"rt-traveler-details",children:[(0,o.jsxs)("div",{className:"rt-traveler-detail",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Name:"}),(0,o.jsx)("span",{children:e.fullName})]}),(0,o.jsxs)("div",{className:"rt-traveler-detail",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Gender:"}),(0,o.jsx)("span",{children:e.gender||"Not specified"})]}),(0,o.jsxs)("div",{className:"rt-traveler-detail",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Age:"}),(0,o.jsx)("span",{children:e.age||"Not specified"})]})]})]},s)))})]}),(0,o.jsxs)("div",{className:"rt-section",children:[(0,o.jsxs)("div",{className:"rt-section-title",children:[(0,o.jsx)("i",{className:"fas fa-credit-card"})," Payment Information"]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Order ID:"}),(0,o.jsx)("span",{children:t.order_id})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Payment Status:"}),(0,o.jsx)("span",{className:"rt-payment-success",children:t.order_status||"PAID"})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Price per Person:"}),(0,o.jsxs)("span",{children:["Rs ",(l.price||0).toLocaleString("en-IN")]})]}),(0,o.jsxs)("div",{className:"rt-detail-row rt-total-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Total Amount:"}),(0,o.jsxs)("span",{children:["Rs ",(t.order_amount||0).toLocaleString("en-IN")]})]})]})]}),(0,o.jsxs)("div",{className:"rt-ticket-note",children:[(0,o.jsx)("i",{className:"fas fa-ticket-alt"}),(0,o.jsx)("p",{children:"Your original booking package tickets will be provided within a few hours."})]}),(0,o.jsxs)("div",{className:"rt-footer",children:[(0,o.jsxs)("div",{className:"rt-terms",children:[(0,o.jsx)("h4",{children:"Terms & Conditions"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"This receipt is proof of payment only."}),(0,o.jsx)("li",{children:"Cancellation policy: 48 hours notice required for full refund."}),(0,o.jsx)("li",{children:"Please carry a valid ID proof for all travelers during the trip."}),(0,o.jsx)("li",{children:"Package inclusions are as per the itinerary shared at the time of booking."})]})]}),(0,o.jsxs)("div",{className:"rt-contact",children:[(0,o.jsx)("p",{children:"Thank you for booking with TripEasy!"}),(0,o.jsxs)("p",{children:["For any queries, please contact us at"," ",(0,o.jsx)("strong",{children:"booking.tripeasy@gmail.com"})," or call"," ",(0,o.jsx)("strong",{children:"+91 9157450389"})]}),(0,o.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," TripEasy. All rights reserved."]})]})]})]})};const d=function(){const[e]=(0,i.ok)(),s=(0,t.Zp)(),a=e.get("order_id"),[d,m]=(0,r.useState)({loading:!0,success:!1,error:!1,message:"",orderDetails:null}),[p,h]=(0,r.useState)(null),[g,u]=(0,r.useState)(null),[x,j]=(0,r.useState)(!1),[v,N]=(0,r.useState)(!1),[f,y]=(0,r.useState)(!1),[k,w]=(0,r.useState)(!1),[b,D]=(0,r.useState)(0),[S,P]=(0,r.useState)(!0),[I,T]=(0,r.useState)(!1),[_,C]=(0,r.useState)("Preparing your receipt..."),[E,R]=(0,r.useState)(!1),[O,A]=(0,r.useState)(""),[F,L]=(0,r.useState)("info"),[U,$]=(0,r.useState)(!1),[J,B]=(0,r.useState)(!1),q=(0,r.useRef)(!1),G=async()=>{try{return(await fetch("/api/ha",{method:"GET",headers:{"Content-Type":"application/json"}})).ok?(P(!0),!0):(P(!1),!1)}catch(e){return console.error("Server connection error:",e),P(!1),!1}};(0,r.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"}),q.current,q.current=!0,G().then((e=>{if(e||(A("Server connection error. Please make sure the server is running."),L("error"),R(!0)),a&&!J){M();try{const e=sessionStorage.getItem("currentPackageId");if(e){const s=JSON.parse(sessionStorage.getItem(`bookingDetails_${e}`)),a=JSON.parse(sessionStorage.getItem(`packageDetails_${e}`));s&&h(s),a&&u(a)}else{const e=new URLSearchParams(window.location.search),a=e.get("bookingData"),r=e.get("packageData");if(a&&r)try{h(JSON.parse(decodeURIComponent(a))),u(JSON.parse(decodeURIComponent(r)))}catch(s){console.error("Error parsing URL parameters",s)}}}catch(s){console.error("Error retrieving booking details from sessionStorage",s)}}else a||m({loading:!1,success:!1,error:!0,message:"No order ID found",orderDetails:null})}))}),[a]);const M=async()=>{if(J)return void console.log("Payment already verified in this session, skipping duplicate verification");let e;B(!0);try{if(!await G())throw new Error("Server connection error. Please make sure the server is running.");const r=await fetch(`/api/verify-payment/${a}`,{method:"GET",headers:{"Content-Type":"application/json","x-api-version":"2023-08-01","X-Request-ID":Date.now().toString()}});if(e=await r.json(),!r.ok)throw new Error(e.message||"Failed to verify payment");const i=new Date,t={...e.data,payment_time:e.data&&e.data.payment_time?e.data.payment_time:i.toISOString(),booking_date:e.data&&e.data.booking_date?e.data.booking_date:i.toISOString()};if(m({loading:!1,success:"PAID"===e.status,error:"PAID"!==e.status,message:e.message,orderDetails:t}),"PAID"===e.status){let a=p,r=g;if(!p||!g){const e=sessionStorage.getItem("currentPackageId");if(console.log("Trying to retrieve booking details from sessionStorage with packageId:",e),e)try{const s=JSON.parse(sessionStorage.getItem(`bookingDetails_${e}`)),i=JSON.parse(sessionStorage.getItem(`packageDetails_${e}`));console.log("Retrieved from sessionStorage:",{hasBookingDetails:!!s,hasPackageDetails:!!i}),s&&(a=s,h(s)),i&&(r=i,u(i))}catch(s){console.error("Error retrieving booking details from sessionStorage",s)}else{const e=new URLSearchParams(window.location.search),i=e.get("bookingData"),t=e.get("packageData");if(console.log("Trying to retrieve booking details from URL params:",{hasBookingParam:!!i,hasPackageParam:!!t}),i&&t)try{const e=JSON.parse(decodeURIComponent(i)),s=JSON.parse(decodeURIComponent(t));a=e,r=s,h(e),u(s)}catch(s){console.error("Error parsing URL parameters",s)}}}a&&r&&t?setTimeout((async()=>{console.log("Processing successful payment with:",{hasBookingDetails:!!a,hasPackageDetails:!!r,hasOrderDetails:!!t});try{const s=await(async(e,s,a)=>{try{if(U)return console.log("Booking already saved in this session, skipping duplicate save"),{success:!0,alreadyExists:!0};if(!await G())throw new Error("Server connection error. Please make sure the server is running.");const r=e||(d.orderDetails?d.orderDetails:null),i=s||p,t=a||g;if(!r)return console.error("Cannot save booking: missing order details"),null;if(!i||!t)return console.error("Cannot save booking: missing booking or package details"),null;$(!0),console.log("Saving booking to database:",{orderId:r.order_id,customerName:i.fullName,packageName:t.name});const n=Date.now().toString(),l=await fetch("/api/save-booking",{method:"POST",headers:{"Content-Type":"application/json","X-Request-ID":n},body:JSON.stringify({orderData:r,bookingDetails:i,packageDetails:t})}),o=await l.json();if(!l.ok)throw 409!==l.status&&$(!1),new Error(o.message||"Failed to save booking");return console.log("Booking saved successfully:",o),o}catch(r){return console.error("Error saving booking:",r),A(r.message||"Failed to save booking. Please try again later."),L("error"),R(!0),null}})(t,a,r);if(s&&s.success){w(!0),D(0),T(!1),C("Preparing your receipt...");const s=["Preparing your receipt...","Generating PDF document...","Adding booking details...","Formatting your receipt...","Sending to your email...","Almost done..."];let i=0;const n=setInterval((()=>{D((e=>e<85?(e%20===0&&i<s.length-1&&(i++,C(s[i])),e+2):e))}),120);try{await V(t,a,r),clearInterval(n),C("Receipt sent successfully!"),D(100),setTimeout((()=>{T(!0),A("Receipt has been sent to your email"),L("success"),R(!0)}),500)}catch(e){clearInterval(n),console.error("Error sending receipt email:",e),T(!0),A("Could not send receipt email. Please try again later."),L("error"),R(!0)}}else console.error("Cannot proceed with email: booking save failed"),A("Could not save booking details. Please try again later."),L("error"),R(!0)}catch(s){console.error("Error in payment processing:",s),A("Error processing payment. Please try again later."),L("error"),R(!0)}}),1e3):"PAID"===e.status&&(console.error("Cannot process payment: missing required details"),A("Could not process payment: missing required details"),L("error"),R(!0))}"PAID"!==e.status&&(A(e.message),L("error"),R(!0))}catch(r){B(!1),console.error("Error verifying payment:",r);const e=(new Date).toISOString();m({loading:!1,success:!1,error:!0,message:"Failed to verify payment. Please try again later.",orderDetails:{order_id:a||"Unknown",order_amount:0,order_status:"FAILED",payment_time:e,booking_date:e}}),A(r.message||"Failed to verify payment. Please try again later."),L("error"),R(!0)}},V=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r=Date.now();if(!await G())throw new Error("Server connection error. Please make sure the server is running.");const i=s||p,t=a||g;if(!i||!t)return void console.error("Missing booking or package details for receipt email");console.log("Sending receipt email with details:",{hasOrderData:!!e,hasBookingDetails:!!i,hasPackageDetails:!!t}),w(!0),D(50);const n=await fetch("/api/send-receipt",{method:"POST",headers:{"Content-Type":"application/json","X-Request-ID":Date.now().toString()},body:JSON.stringify({orderData:e,bookingDetails:i,packageDetails:t})}),l=await n.json(),o=Date.now()-r,c=Math.max(0,5e3-o);return c>0&&(D(85),C("Finalizing your receipt..."),await new Promise((e=>setTimeout(e,c)))),l.success?(N(!0),w(!1),D(100),C("Receipt sent successfully!")):(console.error("Failed to send receipt email:",l.message),w(!1),D(0),R(!1),setTimeout((()=>{A("Failed to send receipt email. Please try again."),L("error"),R(!0)}),300)),l}catch(r){throw console.error("Error sending receipt email:",r),w(!1),D(0),R(!1),setTimeout((()=>{A(r.message||"Error sending receipt email. Please try again."),L("error"),R(!0)}),300),r}},X=async()=>{try{if(!await G())throw new Error("Server connection error. Please make sure the server is running.");if(!d.orderDetails)return A("Cannot generate receipt: missing order details"),L("error"),void R(!0);if(!p||!g){const s=sessionStorage.getItem("currentPackageId");let a=p,r=g;if(s)try{const e=JSON.parse(sessionStorage.getItem(`bookingDetails_${s}`)),i=JSON.parse(sessionStorage.getItem(`packageDetails_${s}`));e&&(a=e),i&&(r=i)}catch(e){console.error("Error retrieving booking details",e)}if(!a||!r)return A("Cannot generate receipt: missing booking details"),L("error"),void R(!0);p||h(a),g||u(r)}y(!0),A("Generating receipt PDF..."),L("info"),R(!0);const s=await fetch("/api/generate-receipt",{method:"POST",headers:{"Content-Type":"application/json","X-Request-ID":Date.now().toString()},body:JSON.stringify({orderData:d.orderDetails,bookingDetails:p,packageDetails:g}),signal:AbortSignal.timeout(3e4)});if(!s.ok)throw new Error(`Failed to generate receipt: ${s.statusText}`);const a=await s.blob(),r=window.URL.createObjectURL(a),i=document.createElement("a");i.href=r,i.download=`TripEasy_Receipt_${d.orderDetails.order_id}.pdf`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r),y(!1),R(!1),setTimeout((()=>{A("Receipt downloaded successfully"),L("success"),R(!0)}),300)}catch(s){console.error("Error downloading receipt:",s),y(!1),R(!1),setTimeout((()=>{A(s.message||"Failed to download receipt. Please try again."),L("error"),R(!0)}),300)}},Y=()=>{j(!x)};return d.loading?(0,o.jsx)("div",{className:"ps-payment-status-container",children:(0,o.jsxs)("div",{className:"ps-loading-container",children:[(0,o.jsx)("div",{className:"ps-loading-spinner"}),(0,o.jsx)("p",{children:"Verifying payment status..."})]})}):d.success&&k&&!I?(0,o.jsx)("div",{className:"ps-payment-status-container",style:{backgroundColor:"white"},children:(0,o.jsxs)("div",{className:"ps-email-sending-fullscreen",children:[(0,o.jsx)("div",{className:"ps-email-animation-container",children:(0,o.jsxs)("div",{className:"ps-email-icon",children:[(0,o.jsxs)("div",{className:"ps-envelope",children:[(0,o.jsx)("div",{className:"ps-envelope-top"}),(0,o.jsx)("div",{className:"ps-envelope-body"}),(0,o.jsx)("div",{className:"ps-envelope-paper"})]}),(0,o.jsxs)("div",{className:"ps-email-waves",children:[(0,o.jsx)("div",{className:"ps-wave ps-wave1"}),(0,o.jsx)("div",{className:"ps-wave ps-wave2"}),(0,o.jsx)("div",{className:"ps-wave ps-wave3"})]})]})}),(0,o.jsxs)("div",{className:"ps-email-progress-container",children:[(0,o.jsx)("div",{className:"ps-email-progress-bar",style:{width:`${b}%`}}),(0,o.jsxs)("div",{className:"ps-email-progress-percentage",children:[b,"%"]})]}),(0,o.jsx)("div",{className:"ps-email-message",children:(0,o.jsx)("p",{children:_})})]})}):(0,o.jsxs)("div",{className:"ps-payment-status-container",children:[(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)(n.A,{animation:"fade-up",children:(0,o.jsxs)("div",{className:"ps-status-card "+(d.success?"ps-success":"ps-error"),children:[(0,o.jsx)("div",{className:"ps-status-icon",children:d.success?(0,o.jsx)("i",{className:"fas fa-check-circle ps-animated-success"}):(0,o.jsx)("i",{className:"fas fa-times-circle"})}),(0,o.jsx)("h2",{className:"ps-status-title",children:d.success?"Payment Successful!":"Payment Failed"}),(0,o.jsx)("p",{className:"ps-status-message",children:d.message}),!S&&(0,o.jsxs)("div",{className:"ps-server-error",children:[(0,o.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,o.jsx)("p",{children:"Server connection error. Please make sure the server is running."})]}),d.success&&(0,o.jsxs)("div",{className:"ps-ticket-info",children:[(0,o.jsx)("i",{className:"fas fa-ticket-alt"}),(0,o.jsx)("p",{children:"Your original booking package tickets will be provided within a few hours."})]}),d.orderDetails&&(0,o.jsxs)("div",{className:"ps-order-details",children:[(0,o.jsxs)("h3",{children:[(0,o.jsx)("i",{className:"fas fa-receipt ps-details-icon"})," Order Details"]}),(0,o.jsxs)("div",{className:"ps-details-grid",children:[(0,o.jsxs)("div",{className:"ps-detail-item",children:[(0,o.jsxs)("span",{className:"ps-detail-label",children:[(0,o.jsx)("i",{className:"fas fa-hashtag"})," Order ID:"]}),(0,o.jsx)("span",{className:"ps-detail-value",children:d.orderDetails.order_id})]}),(0,o.jsxs)("div",{className:"ps-detail-item",children:[(0,o.jsxs)("span",{className:"ps-detail-label",children:[(0,o.jsx)("i",{className:"fas fa-rupee-sign"})," Amount:"]}),(0,o.jsxs)("span",{className:"ps-detail-value",children:["\u20b9",d.orderDetails.order_amount.toLocaleString("en-IN")]})]}),(0,o.jsxs)("div",{className:"ps-detail-item",children:[(0,o.jsxs)("span",{className:"ps-detail-label",children:[(0,o.jsx)("i",{className:"fas fa-info-circle"})," Status:"]}),(0,o.jsx)("span",{className:"ps-detail-value ps-status-badge",children:d.orderDetails.order_status})]}),(0,o.jsxs)("div",{className:"ps-detail-item",children:[(0,o.jsxs)("span",{className:"ps-detail-label",children:[(0,o.jsx)("i",{className:"fas fa-calendar-check"})," Booking Date:"]}),(0,o.jsx)("span",{className:"ps-detail-value",children:(Z=d.orderDetails.booking_date,new Date(Z).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}))})]}),(0,o.jsxs)("div",{className:"ps-detail-item",children:[(0,o.jsxs)("span",{className:"ps-detail-label",children:[(0,o.jsx)("i",{className:"fas fa-clock"})," Payment Time:"]}),(0,o.jsx)("span",{className:"ps-detail-value",children:(e=>new Date(e).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}))(d.orderDetails.payment_time)})]})]})]}),d.success&&v&&(0,o.jsx)("div",{className:"ps-receipt-info",children:(0,o.jsxs)("p",{children:[(0,o.jsx)("i",{className:"fas fa-envelope-open-text"})," A receipt has been sent to your email address."]})}),(0,o.jsxs)("div",{className:"ps-action-buttons",children:[(0,o.jsxs)(i.N_,{to:"/",className:"ps-home-button",children:[(0,o.jsx)("i",{className:"fas fa-home"})," Return to Home"]}),d.success&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("button",{className:"ps-download-button",onClick:X,disabled:f||!S,children:[(0,o.jsx)("i",{className:"fas fa-download"}),f?"Downloading...":"Download Receipt"]}),(0,o.jsxs)("button",{className:"ps-view-button",onClick:Y,style:{padding:"12px 24px",borderRadius:"50px",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",cursor:"pointer",backgroundColor:"rgb(108,117,125)",color:"white",border:"none"},children:[(0,o.jsx)("i",{className:"fas fa-eye",style:{marginRight:"8px"}})," ","View Receipt"]})]}),!d.success&&(0,o.jsxs)("button",{className:"ps-retry-button",onClick:()=>s(-1),children:[(0,o.jsx)("i",{className:"fas fa-redo"})," Try Again"]})]})]})}),x&&d.orderDetails&&p&&g&&(0,o.jsx)("div",{className:"ps-receipt-modal",children:(0,o.jsxs)("div",{className:"ps-receipt-modal-content",children:[(0,o.jsxs)("div",{className:"ps-receipt-modal-header",children:[(0,o.jsx)("h3",{children:"Booking Receipt"}),(0,o.jsx)("button",{className:"ps-modal-close",onClick:Y,children:(0,o.jsx)("i",{className:"fas fa-times"})})]}),(0,o.jsx)("div",{className:"ps-receipt-modal-body",children:(0,o.jsx)(c,{orderData:d.orderDetails,bookingDetails:p,packageDetails:g})}),(0,o.jsx)("div",{className:"ps-receipt-modal-footer",children:(0,o.jsxs)("button",{className:"ps-download-button",onClick:X,disabled:f||!S,children:[(0,o.jsx)("i",{className:"fas fa-download"}),f?"Downloading...":"Download PDF"]})})]})})]}),E&&(0,o.jsx)(l.A,{message:O,type:F,onClose:()=>R(!1)})]});var Z}},4619:(e,s,a)=>{a.d(s,{A:()=>t});var r=a(5043),i=a(579);const t=function(e){let{children:s,animation:a="fade-up",delay:t=0,duration:n=800,threshold:l=.2,className:o="",once:c=!0}=e;const[d,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),g=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=g.current;if(!e)return;const s=new IntersectionObserver((e=>{const[s]=e;if(s.isIntersecting){if(c&&p)return;m(!0),h(!0)}else c||m(!1)}),{threshold:l,rootMargin:"0px"});return s.observe(e),()=>{e&&s.unobserve(e)}}),[l,c,p]);const u={animationDelay:`${t}ms`,animationDuration:`${n}ms`};return(0,i.jsx)("div",{ref:g,className:`animated-element ${a} ${d?"animate":""} ${o}`,style:u,children:s})}}}]);
//# sourceMappingURL=773.c9640346.chunk.js.map