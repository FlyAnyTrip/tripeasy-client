"use strict";(self.webpackChunktravel_package=self.webpackChunktravel_package||[]).push([[773],{773:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var r=a(5043),i=a(5475),t=a(3216),n=a(4619),l=a(7221),o=a(579);const c=e=>{let{orderData:s,bookingDetails:a,packageDetails:r}=e;const i=(new Date).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),t=s||{order_id:"Unknown",order_amount:0,order_status:"UNKNOWN"},n=a||{fullName:"Customer",email:"customer@example.com",phone:"N/A",travelDate:i,travelers:1},l=r||{name:"Travel Package",location:"Destination",duration:"N/A",price:t.order_amount||0};return(0,o.jsxs)("div",{className:"rt-receipt",children:[(0,o.jsxs)("div",{className:"rt-header",children:[(0,o.jsxs)("div",{className:"rt-logo-container",children:[(0,o.jsx)("div",{className:"rt-logo",children:"TripEasy"}),(0,o.jsx)("div",{className:"rt-logo-tagline",children:"Explore. Experience. Enjoy."})]}),(0,o.jsxs)("div",{className:"rt-company-info",children:[(0,o.jsx)("p",{children:"TripEasy Travel Services "}),(0,o.jsx)("p",{children:"Shop No 16, 2nd Floor,"}),(0,o.jsx)("p",{children:"VED TransCube opposite the Main Railway Station, Vadodara,"}),(0,o.jsx)("p",{children:"GST: 07AABCT1234Z1ZL"})]}),(0,o.jsxs)("div",{className:"rt-receipt-title-container",children:[(0,o.jsx)("h1",{className:"rt-receipt-title",children:"Booking Receipt"}),(0,o.jsxs)("div",{className:"rt-receipt-id",children:["Receipt #",t.order_id]}),(0,o.jsxs)("div",{className:"rt-receipt-date",children:["Date: ",i]})]})]}),(0,o.jsxs)("div",{className:"rt-details",children:[(0,o.jsxs)("div",{className:"rt-section",children:[(0,o.jsxs)("div",{className:"rt-section-title",children:[(0,o.jsx)("i",{className:"fas fa-user-circle"})," Customer Information"]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Name:"}),(0,o.jsx)("span",{children:n.fullName})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Email:"}),(0,o.jsx)("span",{children:n.email})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Phone:"}),(0,o.jsx)("span",{children:n.phone})]})]}),(0,o.jsxs)("div",{className:"rt-section",children:[(0,o.jsxs)("div",{className:"rt-section-title",children:[(0,o.jsx)("i",{className:"fas fa-map-marked-alt"})," Package Details"]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Package Name:"}),(0,o.jsx)("span",{children:l.name})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Destination:"}),(0,o.jsx)("span",{children:l.location})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Duration:"}),(0,o.jsxs)("span",{children:[l.duration," Days"]})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Travel Date:"}),(0,o.jsx)("span",{children:n.travelDate})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Number of Travelers:"}),(0,o.jsx)("span",{children:n.travelers})]})]}),(0,o.jsxs)("div",{className:"rt-section",children:[(0,o.jsxs)("div",{className:"rt-section-title",children:[(0,o.jsx)("i",{className:"fas fa-users"})," Traveler Details"]}),(0,o.jsxs)("div",{className:"rt-traveler-item",children:[(0,o.jsx)("div",{className:"rt-traveler-header",children:"Lead Traveler"}),(0,o.jsxs)("div",{className:"rt-traveler-details",children:[(0,o.jsxs)("div",{className:"rt-traveler-detail",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Name:"}),(0,o.jsx)("span",{children:n.fullName})]}),(0,o.jsxs)("div",{className:"rt-traveler-detail",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Gender:"}),(0,o.jsx)("span",{children:n.gender||"Not specified"})]}),(0,o.jsxs)("div",{className:"rt-traveler-detail",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Age:"}),(0,o.jsx)("span",{children:n.age||"Not specified"})]})]})]}),n.additionalTravelers&&n.additionalTravelers.length>0&&(0,o.jsx)("div",{className:"rt-additional-travelers",children:n.additionalTravelers.map(((e,s)=>(0,o.jsxs)("div",{className:"rt-traveler-item",children:[(0,o.jsxs)("div",{className:"rt-traveler-header",children:["Traveler ",s+2]}),(0,o.jsxs)("div",{className:"rt-traveler-details",children:[(0,o.jsxs)("div",{className:"rt-traveler-detail",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Name:"}),(0,o.jsx)("span",{children:e.fullName})]}),(0,o.jsxs)("div",{className:"rt-traveler-detail",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Gender:"}),(0,o.jsx)("span",{children:e.gender||"Not specified"})]}),(0,o.jsxs)("div",{className:"rt-traveler-detail",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Age:"}),(0,o.jsx)("span",{children:e.age||"Not specified"})]})]})]},s)))})]}),(0,o.jsxs)("div",{className:"rt-section",children:[(0,o.jsxs)("div",{className:"rt-section-title",children:[(0,o.jsx)("i",{className:"fas fa-credit-card"})," Payment Information"]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Order ID:"}),(0,o.jsx)("span",{children:t.order_id})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Payment Status:"}),(0,o.jsx)("span",{className:"rt-payment-success",children:t.order_status||"PAID"})]}),(0,o.jsxs)("div",{className:"rt-detail-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Price per Person:"}),(0,o.jsxs)("span",{children:["Rs ",(l.price||0).toLocaleString("en-IN")]})]}),(0,o.jsxs)("div",{className:"rt-detail-row rt-total-row",children:[(0,o.jsx)("span",{className:"rt-detail-label",children:"Total Amount:"}),(0,o.jsxs)("span",{children:["Rs ",(t.order_amount||0).toLocaleString("en-IN")]})]})]})]}),(0,o.jsxs)("div",{className:"rt-ticket-note",children:[(0,o.jsx)("i",{className:"fas fa-ticket-alt"}),(0,o.jsx)("p",{children:"Your original booking package tickets will be provided within a few hours."})]}),(0,o.jsxs)("div",{className:"rt-footer",children:[(0,o.jsxs)("div",{className:"rt-terms",children:[(0,o.jsx)("h4",{children:"Terms & Conditions"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"This receipt is proof of payment only."}),(0,o.jsx)("li",{children:"Cancellation policy: 48 hours notice required for full refund."}),(0,o.jsx)("li",{children:"Please carry a valid ID proof for all travelers during the trip."}),(0,o.jsx)("li",{children:"Package inclusions are as per the itinerary shared at the time of booking."})]})]}),(0,o.jsxs)("div",{className:"rt-contact",children:[(0,o.jsx)("p",{children:"Thank you for booking with TripEasy!"}),(0,o.jsxs)("p",{children:["For any queries, please contact us at"," ",(0,o.jsx)("strong",{children:"booking.tripeasy@gmail.com"})," or call"," ",(0,o.jsx)("strong",{children:"+91 9157450389"})]}),(0,o.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," TripEasy. All rights reserved."]})]})]})]})};var d=a(4227);const m=function(){const[e]=(0,i.ok)(),s=(0,t.Zp)(),a=e.get("order_id"),[m,p]=(0,r.useState)({loading:!0,success:!1,error:!1,message:"",orderDetails:null}),[g,h]=(0,r.useState)(null),[u,v]=(0,r.useState)(null),[x,j]=(0,r.useState)(!1),[N,f]=(0,r.useState)(!1),[k,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[D,S]=(0,r.useState)(0),[P,I]=(0,r.useState)(!0),[_,T]=(0,r.useState)(!1),[R,$]=(0,r.useState)("Preparing your receipt..."),[C,E]=(0,r.useState)(!1),[O,A]=(0,r.useState)(""),[B,q]=(0,r.useState)("info"),[F,L]=(0,r.useState)(!1),[U,J]=(0,r.useState)(!1),G=(0,r.useRef)(!1),M=async()=>{try{return(await fetch(`${d.bO.createBookingRequest.replace("/api/booking-requests","/api/ha")}`,{method:"GET",headers:{"Content-Type":"application/json"}})).ok?(I(!0),!0):(I(!1),!1)}catch(e){return console.error("[v0] Server connection error:",e),I(!1),!1}};(0,r.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"}),G.current,G.current=!0,M().then((e=>{if(e||(A("Server connection error. Please make sure the server is running."),q("error"),E(!0)),a&&!U){V();try{const e=sessionStorage.getItem("currentPackageId");if(e){const s=JSON.parse(sessionStorage.getItem(`bookingDetails_${e}`)),a=JSON.parse(sessionStorage.getItem(`packageDetails_${e}`));s&&h(s),a&&v(a)}else{const e=new URLSearchParams(window.location.search),a=e.get("bookingData"),r=e.get("packageData");if(a&&r)try{h(JSON.parse(decodeURIComponent(a))),v(JSON.parse(decodeURIComponent(r)))}catch(s){console.error("Error parsing URL parameters",s)}}}catch(s){console.error("Error retrieving booking details from sessionStorage",s)}}else a||p({loading:!1,success:!1,error:!0,message:"No order ID found",orderDetails:null})}))}),[a]);const V=async()=>{if(U)return void console.log("[v0] Payment already verified in this session, skipping duplicate verification");let e;J(!0);try{if(!await M())throw new Error("Server connection error. Please make sure the server is running.");const r=await fetch(`${d.bO.createBookingRequest.replace("/api/booking-requests","/api/verify-payment")}/${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(e=await r.json(),!r.ok)throw new Error(e.message||"Failed to verify payment");const i=new Date,t={...e.data,payment_time:e.data&&e.data.payment_time?e.data.payment_time:i.toISOString(),booking_date:e.data&&e.data.booking_date?e.data.booking_date:i.toISOString()};if(p({loading:!1,success:"PAID"===e.status,error:"PAID"!==e.status,message:e.message,orderDetails:t}),"PAID"===e.status){let a=g,r=u;if(!g||!u){const e=sessionStorage.getItem("currentPackageId");if(console.log("Trying to retrieve booking details from sessionStorage with packageId:",e),e)try{const s=JSON.parse(sessionStorage.getItem(`bookingDetails_${e}`)),i=JSON.parse(sessionStorage.getItem(`packageDetails_${e}`));console.log("Retrieved from sessionStorage:",{hasBookingDetails:!!s,hasPackageDetails:!!i}),s&&(a=s,h(s)),i&&(r=i,v(i))}catch(s){console.error("Error retrieving booking details from sessionStorage",s)}else{const e=new URLSearchParams(window.location.search),i=e.get("bookingData"),t=e.get("packageData");if(console.log("Trying to retrieve booking details from URL params:",{hasBookingParam:!!i,hasPackageParam:!!t}),i&&t)try{const e=JSON.parse(decodeURIComponent(i)),s=JSON.parse(decodeURIComponent(t));a=e,r=s,h(e),v(s)}catch(s){console.error("Error parsing URL parameters",s)}}}a&&r&&t?setTimeout((async()=>{console.log("Processing successful payment with:",{hasBookingDetails:!!a,hasPackageDetails:!!r,hasOrderDetails:!!t});try{const s=await(async(e,s,a)=>{try{if(F)return console.log("[v0] Booking already saved in this session, skipping duplicate save"),{success:!0,alreadyExists:!0};if(!await M())throw new Error("Server connection error. Please make sure the server is running.");const r=e||(m.orderDetails?m.orderDetails:null),i=s||g,t=a||u;if(!r)return console.error("Cannot save booking: missing order details"),null;if(!i||!t)return console.error("Cannot save booking: missing booking or package details"),null;L(!0),console.log("[v0] Saving booking to database:",{orderId:r.order_id,customerName:i.fullName,packageName:t.name});const n=Date.now().toString(),l=await fetch(`${d.bO.createBookingRequest.replace("/api/booking-requests","/api/save-booking")}`,{method:"POST",headers:{"Content-Type":"application/json","X-Request-ID":n},body:JSON.stringify({orderData:{order_id:r.order_id,order_amount:r.order_amount,order_status:r.order_status||"PAID",payment_time:r.payment_time||(new Date).toISOString(),booking_date:r.booking_date||(new Date).toISOString()},bookingDetails:{fullName:i.fullName,email:i.email,phone:i.phone,gender:i.gender||"Not specified",age:i.age||"Not specified",travelDate:i.travelDate,travelers:i.travelers,additionalTravelers:i.additionalTravelers||[],specialRequests:i.specialRequests||""},packageDetails:{id:t.id||t._id,name:t.name,location:t.location,duration:t.duration,price:t.price}})}),o=await l.json();if(!l.ok)throw 409!==l.status&&L(!1),new Error(o.message||"Failed to save booking");return console.log("[v0] Booking saved successfully:",o),o}catch(r){return console.error("[v0] Error saving booking:",r),A(r.message||"Failed to save booking. Please try again later."),q("error"),E(!0),null}})(t,a,r);if(s&&s.success){w(!0),S(0),T(!1),$("Preparing your receipt...");const s=["Preparing your receipt...","Generating PDF document...","Adding booking details...","Formatting your receipt...","Sending to your email...","Almost done..."];let i=0;const n=setInterval((()=>{S((e=>e<85?(e%20===0&&i<s.length-1&&(i++,$(s[i])),e+2):e))}),120);try{await Y(t,a,r),clearInterval(n),$("Receipt sent successfully!"),S(100),setTimeout((()=>{T(!0),A("Receipt has been sent to your email"),q("success"),E(!0)}),500)}catch(e){clearInterval(n),console.error("Error sending receipt email:",e),T(!0),A("Could not send receipt email. Please try again later."),q("error"),E(!0)}}else console.error("Cannot proceed with email: booking save failed"),A("Could not save booking details. Please try again later."),q("error"),E(!0)}catch(s){console.error("Error in payment processing:",s),A("Error processing payment. Please try again later."),q("error"),E(!0)}}),1e3):"PAID"===e.status&&(console.error("Cannot process payment: missing required details"),A("Could not process payment: missing required details"),q("error"),E(!0))}"PAID"!==e.status&&(A(e.message),q("error"),E(!0))}catch(r){J(!1),console.error("Error verifying payment:",r);const e=(new Date).toISOString();p({loading:!1,success:!1,error:!0,message:"Failed to verify payment. Please try again later.",orderDetails:{order_id:a||"Unknown",order_amount:0,order_status:"FAILED",payment_time:e,booking_date:e}}),A(r.message||"Failed to verify payment. Please try again later."),q("error"),E(!0)}},Y=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r=Date.now();if(!await M())throw new Error("Server connection error. Please make sure the server is running.");const i=s||g,t=a||u;if(!i||!t)return void console.error("Missing booking or package details for receipt email");console.log("[v0] Sending receipt email with details:",{hasOrderData:!!e,hasBookingDetails:!!i,hasPackageDetails:!!t}),w(!0),S(50);const n=await fetch(`${d.bO.createBookingRequest.replace("/api/booking-requests","/api/send-receipt")}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderData:e,bookingDetails:i,packageDetails:t})}),l=await n.json(),o=Date.now()-r,c=Math.max(0,5e3-o);return c>0&&(S(85),$("Finalizing your receipt..."),await new Promise((e=>setTimeout(e,c)))),l.success?(f(!0),w(!1),S(100),$("Receipt sent successfully!")):(console.error("[v0] Failed to send receipt email:",l.message),w(!1),S(0),E(!1),setTimeout((()=>{A("Failed to send receipt email. Please try again."),q("error"),E(!0)}),300)),l}catch(r){throw console.error("[v0] Error sending receipt email:",r),w(!1),S(0),E(!1),setTimeout((()=>{A(r.message||"Error sending receipt email. Please try again."),q("error"),E(!0)}),300),r}},Z=async()=>{try{if(!await M())throw new Error("Server connection error. Please make sure the server is running.");if(!m.orderDetails)return A("Cannot generate receipt: missing order details"),q("error"),void E(!0);if(!g||!u){const s=sessionStorage.getItem("currentPackageId");let a=g,r=u;if(s)try{const e=JSON.parse(sessionStorage.getItem(`bookingDetails_${s}`)),i=JSON.parse(sessionStorage.getItem(`packageDetails_${s}`));e&&(a=e),i&&(r=i)}catch(e){console.error("[v0] Error retrieving booking details",e)}if(!a||!r)return A("Cannot generate receipt: missing booking details"),q("error"),void E(!0);g||h(a),u||v(r)}y(!0),A("Generating receipt PDF..."),q("info"),E(!0);const s=await fetch(`${d.bO.createBookingRequest.replace("/api/booking-requests","/api/generate-receipt")}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderData:m.orderDetails,bookingDetails:g,packageDetails:u}),signal:AbortSignal.timeout(3e4)});if(!s.ok)throw new Error(`Failed to generate receipt: ${s.statusText}`);const a=await s.blob(),r=window.URL.createObjectURL(a),i=document.createElement("a");i.href=r,i.download=`TripEasy_Receipt_${m.orderDetails.order_id}.pdf`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r),y(!1),E(!1),setTimeout((()=>{A("Receipt downloaded successfully"),q("success"),E(!0)}),300)}catch(s){console.error("[v0] Error downloading receipt:",s),y(!1),E(!1),setTimeout((()=>{A(s.message||"Failed to download receipt. Please try again."),q("error"),E(!0)}),300)}},z=()=>{j(!x)};return m.loading?(0,o.jsx)("div",{className:"ps-payment-status-container",children:(0,o.jsxs)("div",{className:"ps-loading-container",children:[(0,o.jsx)("div",{className:"ps-loading-spinner"}),(0,o.jsx)("p",{children:"Verifying payment status..."})]})}):m.success&&b&&!_?(0,o.jsx)("div",{className:"ps-payment-status-container",style:{backgroundColor:"white"},children:(0,o.jsxs)("div",{className:"ps-email-sending-fullscreen",children:[(0,o.jsx)("div",{className:"ps-email-animation-container",children:(0,o.jsxs)("div",{className:"ps-email-icon",children:[(0,o.jsxs)("div",{className:"ps-envelope",children:[(0,o.jsx)("div",{className:"ps-envelope-top"}),(0,o.jsx)("div",{className:"ps-envelope-body"}),(0,o.jsx)("div",{className:"ps-envelope-paper"})]}),(0,o.jsxs)("div",{className:"ps-email-waves",children:[(0,o.jsx)("div",{className:"ps-wave ps-wave1"}),(0,o.jsx)("div",{className:"ps-wave ps-wave2"}),(0,o.jsx)("div",{className:"ps-wave ps-wave3"})]})]})}),(0,o.jsxs)("div",{className:"ps-email-progress-container",children:[(0,o.jsx)("div",{className:"ps-email-progress-bar",style:{width:`${D}%`}}),(0,o.jsxs)("div",{className:"ps-email-progress-percentage",children:[D,"%"]})]}),(0,o.jsx)("div",{className:"ps-email-message",children:(0,o.jsx)("p",{children:R})})]})}):(0,o.jsxs)("div",{className:"ps-payment-status-container",children:[(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)(n.A,{animation:"fade-up",children:(0,o.jsxs)("div",{className:"ps-status-card "+(m.success?"ps-success":"ps-error"),children:[(0,o.jsx)("div",{className:"ps-status-icon",children:m.success?(0,o.jsx)("i",{className:"fas fa-check-circle ps-animated-success"}):(0,o.jsx)("i",{className:"fas fa-times-circle"})}),(0,o.jsx)("h2",{className:"ps-status-title",children:m.success?"Payment Successful!":"Payment Failed"}),(0,o.jsx)("p",{className:"ps-status-message",children:m.message}),!P&&(0,o.jsxs)("div",{className:"ps-server-error",children:[(0,o.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,o.jsx)("p",{children:"Server connection error. Please make sure the server is running."})]}),m.success&&(0,o.jsxs)("div",{className:"ps-ticket-info",children:[(0,o.jsx)("i",{className:"fas fa-ticket-alt"}),(0,o.jsx)("p",{children:"Your original booking package tickets will be provided within a few hours."})]}),m.orderDetails&&(0,o.jsxs)("div",{className:"ps-order-details",children:[(0,o.jsxs)("h3",{children:[(0,o.jsx)("i",{className:"fas fa-receipt ps-details-icon"})," Order Details"]}),(0,o.jsxs)("div",{className:"ps-details-grid",children:[(0,o.jsxs)("div",{className:"ps-detail-item",children:[(0,o.jsxs)("span",{className:"ps-detail-label",children:[(0,o.jsx)("i",{className:"fas fa-hashtag"})," Order ID:"]}),(0,o.jsx)("span",{className:"ps-detail-value",children:m.orderDetails.order_id})]}),(0,o.jsxs)("div",{className:"ps-detail-item",children:[(0,o.jsxs)("span",{className:"ps-detail-label",children:[(0,o.jsx)("i",{className:"fas fa-rupee-sign"})," Amount:"]}),(0,o.jsxs)("span",{className:"ps-detail-value",children:["\u20b9",m.orderDetails.order_amount.toLocaleString("en-IN")]})]}),(0,o.jsxs)("div",{className:"ps-detail-item",children:[(0,o.jsxs)("span",{className:"ps-detail-label",children:[(0,o.jsx)("i",{className:"fas fa-info-circle"})," Status:"]}),(0,o.jsx)("span",{className:"ps-detail-value ps-status-badge",children:m.orderDetails.order_status})]}),(0,o.jsxs)("div",{className:"ps-detail-item",children:[(0,o.jsxs)("span",{className:"ps-detail-label",children:[(0,o.jsx)("i",{className:"fas fa-calendar-check"})," Booking Date:"]}),(0,o.jsx)("span",{className:"ps-detail-value",children:(W=m.orderDetails.booking_date,new Date(W).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}))})]}),(0,o.jsxs)("div",{className:"ps-detail-item",children:[(0,o.jsxs)("span",{className:"ps-detail-label",children:[(0,o.jsx)("i",{className:"fas fa-clock"})," Payment Time:"]}),(0,o.jsx)("span",{className:"ps-detail-value",children:(e=>new Date(e).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}))(m.orderDetails.payment_time)})]})]})]}),m.success&&N&&(0,o.jsx)("div",{className:"ps-receipt-info",children:(0,o.jsxs)("p",{children:[(0,o.jsx)("i",{className:"fas fa-envelope-open-text"})," A receipt has been sent to your email address."]})}),(0,o.jsxs)("div",{className:"ps-action-buttons",children:[(0,o.jsxs)(i.N_,{to:"/",className:"ps-home-button",children:[(0,o.jsx)("i",{className:"fas fa-home"})," Return to Home"]}),m.success&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("button",{className:"ps-download-button",onClick:Z,disabled:k||!P,children:[(0,o.jsx)("i",{className:"fas fa-download"}),k?"Downloading...":"Download Receipt"]}),(0,o.jsxs)("button",{className:"ps-view-button",onClick:z,style:{padding:"12px 24px",borderRadius:"50px",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",cursor:"pointer",backgroundColor:"rgb(108,117,125)",color:"white",border:"none"},children:[(0,o.jsx)("i",{className:"fas fa-eye",style:{marginRight:"8px"}})," View Receipt"]})]}),!m.success&&(0,o.jsxs)("button",{className:"ps-retry-button",onClick:()=>s(-1),children:[(0,o.jsx)("i",{className:"fas fa-redo"})," Try Again"]})]})]})}),x&&m.orderDetails&&g&&u&&(0,o.jsx)("div",{className:"ps-receipt-modal",children:(0,o.jsxs)("div",{className:"ps-receipt-modal-content",children:[(0,o.jsxs)("div",{className:"ps-receipt-modal-header",children:[(0,o.jsx)("h3",{children:"Booking Receipt"}),(0,o.jsx)("button",{className:"ps-modal-close",onClick:z,children:(0,o.jsx)("i",{className:"fas fa-times"})})]}),(0,o.jsx)("div",{className:"ps-receipt-modal-body",children:(0,o.jsx)(c,{orderData:m.orderDetails,bookingDetails:g,packageDetails:u})}),(0,o.jsx)("div",{className:"ps-receipt-modal-footer",children:(0,o.jsxs)("button",{className:"ps-download-button",onClick:Z,disabled:k||!P,children:[(0,o.jsx)("i",{className:"fas fa-download"}),k?"Downloading...":"Download PDF"]})})]})})]}),C&&(0,o.jsx)(l.A,{message:O,type:B,onClose:()=>E(!1)})]});var W}},4227:(e,s,a)=>{a.d(s,{bO:()=>i});const r="http://localhost:5000",i={getAllPackages:`${r}/api/packages`,getPackageById:e=>`${r}/api/packages/${e}`,createBooking:`${r}/api/bookings`,createBookingRequest:`${r}/api/booking-requests`,createCustomPackageRequest:`${r}/api/submit-custom-package`,getDestinations:`${r}/api/destinations`,createOrder:`${r}/api/create-order`,verifyPayment:e=>`${r}/api/verify-payment/${e}`,saveBooking:`${r}/api/save-booking`,sendReceipt:`${r}/api/send-receipt`,generateReceipt:`${r}/api/generate-receipt`,healthCheck:`${r}/api/ha`,getAllBookings:`${r}/api/admin/bookings`,getBookingById:e=>`${r}/api/bookings/${e}`,adminPackages:`${r}/api/admin/packages`,adminPackageById:e=>`${r}/api/admin/packages/${e}`}},4619:(e,s,a)=>{a.d(s,{A:()=>t});var r=a(5043),i=a(579);const t=function(e){let{children:s,animation:a="fade-up",delay:t=0,duration:n=800,threshold:l=.2,className:o="",once:c=!0}=e;const[d,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),h=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=h.current;if(!e)return;const s=new IntersectionObserver((e=>{const[s]=e;if(s.isIntersecting){if(c&&p)return;m(!0),g(!0)}else c||m(!1)}),{threshold:l,rootMargin:"0px"});return s.observe(e),()=>{e&&s.unobserve(e)}}),[l,c,p]);const u={animationDelay:`${t}ms`,animationDuration:`${n}ms`};return(0,i.jsx)("div",{ref:h,className:`animated-element ${a} ${d?"animate":""} ${o}`,style:u,children:s})}}}]);
//# sourceMappingURL=773.eab91090.chunk.js.map