{"version":3,"file":"static/js/294.8b93c86f.chunk.js","mappings":"wLAMA,MA6CA,EA7CuBA,IAAmB,IAAlB,SAAEC,GAAUD,EAClC,MAAQE,MAAOC,IAAcC,EAAAA,EAAAA,KAEvBC,EAAkBA,KACtB,MAAMC,EAAQC,aAAaC,QAAQ,cAC7BC,EAAYF,aAAaC,QAAQ,kBAEvC,IAAKF,IAAUG,EACb,OAAO,EAIT,IAEE,IADqBC,KAAKJ,GACRK,WAAW,kBAC3B,OAAO,CAEX,CAAE,MAAOC,GACP,OAAO,CACT,CAOA,QAJoBC,KAAKC,MACQC,OAAOC,SAASP,GAC3B,SAIpBF,aAAaU,WAAW,cACxBV,aAAaU,WAAW,mBACjB,EAGE,EASb,OANAC,EAAAA,EAAAA,YAAU,KACHb,KACHF,EAAU,iDACZ,GACC,CAACA,IAEGE,IAAoBJ,GAAWkB,EAAAA,EAAAA,KAACC,EAAAA,GAAQ,CAACC,GAAG,eAAeC,SAAO,GAAG,C","sources":["components/admin/ProtectedRoute.jsx"],"sourcesContent":["\"use client\";\n\nimport { Navigate } from \"react-router-dom\";\nimport { useToast } from \"../Toast\";\nimport { useEffect } from \"react\";\n\nconst ProtectedRoute = ({ children }) => {\n  const { error: showError } = useToast();\n\n  const isAuthenticated = () => {\n    const token = localStorage.getItem(\"adminToken\");\n    const loginTime = localStorage.getItem(\"adminLoginTime\");\n\n    if (!token || !loginTime) {\n      return false;\n    }\n\n    // Check if token is valid format\n    try {\n      const decodedToken = atob(token);\n      if (!decodedToken.startsWith(\"authenticated_\")) {\n        return false;\n      }\n    } catch (e) {\n      return false;\n    }\n\n    // Check if session is not older than 24 hours (optional security measure)\n    const currentTime = Date.now();\n    const sessionAge = currentTime - Number.parseInt(loginTime);\n    const maxSessionAge = 24 * 60 * 60 * 1000; // 24 hours\n\n    if (sessionAge > maxSessionAge) {\n      // Session expired\n      localStorage.removeItem(\"adminToken\");\n      localStorage.removeItem(\"adminLoginTime\");\n      return false;\n    }\n\n    return true;\n  };\n\n  useEffect(() => {\n    if (!isAuthenticated()) {\n      showError(\"Unauthorized access. Please login to continue.\");\n    }\n  }, [showError]);\n\n  return isAuthenticated() ? children : <Navigate to=\"/admin/login\" replace />;\n};\n\nexport default ProtectedRoute;\n"],"names":["_ref","children","error","showError","useToast","isAuthenticated","token","localStorage","getItem","loginTime","atob","startsWith","e","Date","now","Number","parseInt","removeItem","useEffect","_jsx","Navigate","to","replace"],"sourceRoot":""}