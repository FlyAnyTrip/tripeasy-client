{"version":3,"file":"static/js/294.8b93c86f.chunk.js","mappings":"wLAMA,MA6CA,EA7CuBA,IAAmB,IAAlB,SAAEC,GAAUD,EAClC,MAAQE,MAAOC,IAAcC,EAAAA,EAAAA,KAEvBC,EAAkBA,KACtB,MAAMC,EAAQC,aAAaC,QAAQ,cAC7BC,EAAYF,aAAaC,QAAQ,kBAEvC,IAAKF,IAAUG,EACb,OAAO,EAIT,IAEE,IADqBC,KAAKJ,GACRK,WAAW,kBAC3B,OAAO,CAEX,CAAE,MAAOC,GACP,OAAO,CACT,CAOA,QAJoBC,KAAKC,MACQC,OAAOC,SAASP,GAC3B,SAIpBF,aAAaU,WAAW,cACxBV,aAAaU,WAAW,mBACjB,EAGE,EASb,OANAC,EAAAA,EAAAA,YAAU,KACHb,KACHF,EAAU,iDACZ,GACC,CAACA,IAEGE,IAAoBJ,GAAWkB,EAAAA,EAAAA,KAACC,EAAAA,GAAQ,CAACC,GAAG,eAAeC,SAAO,GAAG,C","sources":["components/admin/ProtectedRoute.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { useToast } from \"../Toast\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst ProtectedRoute = ({ children }) => {\r\n  const { error: showError } = useToast();\r\n\r\n  const isAuthenticated = () => {\r\n    const token = localStorage.getItem(\"adminToken\");\r\n    const loginTime = localStorage.getItem(\"adminLoginTime\");\r\n\r\n    if (!token || !loginTime) {\r\n      return false;\r\n    }\r\n\r\n    // Check if token is valid format\r\n    try {\r\n      const decodedToken = atob(token);\r\n      if (!decodedToken.startsWith(\"authenticated_\")) {\r\n        return false;\r\n      }\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n\r\n    // Check if session is not older than 24 hours (optional security measure)\r\n    const currentTime = Date.now();\r\n    const sessionAge = currentTime - Number.parseInt(loginTime);\r\n    const maxSessionAge = 24 * 60 * 60 * 1000; // 24 hours\r\n\r\n    if (sessionAge > maxSessionAge) {\r\n      // Session expired\r\n      localStorage.removeItem(\"adminToken\");\r\n      localStorage.removeItem(\"adminLoginTime\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated()) {\r\n      showError(\"Unauthorized access. Please login to continue.\");\r\n    }\r\n  }, [showError]);\r\n\r\n  return isAuthenticated() ? children : <Navigate to=\"/admin/login\" replace />;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"names":["_ref","children","error","showError","useToast","isAuthenticated","token","localStorage","getItem","loginTime","atob","startsWith","e","Date","now","Number","parseInt","removeItem","useEffect","_jsx","Navigate","to","replace"],"sourceRoot":""}